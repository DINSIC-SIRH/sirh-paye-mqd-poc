<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="TEST_IVTR_UC_10" resourceRoot="" soapui-version="4.6.2" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="WsdlSettings@cache-wsdls">true</con:setting></con:settings><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="SiriProducerRpcBinding" type="wsdl" bindingName="{http://wsdl.siri.org.uk}SiriProducerRpcBinding" soapVersion="1_1" anonymous="optional" definition="/home/paul/Desktop/XSD SIRI/Siri_XML-2.0k-IDF2.4 (+SubscriptionTerminated and SG7 change preview)/xsd/siri_wsProducer.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://www.siri-service-location.com</con:endpoint></con:endpoints><con:operation isOneWay="false" action="CheckStatus" name="CheckStatus" bindingOperationName="CheckStatus" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:CheckStatus>
         <Request>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:CheckStatus>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="CheckStatus"/></con:call></con:operation><con:operation isOneWay="false" action="DataSupply" name="DataSupply" bindingOperationName="DataSupply" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:DataSupply>
         <DataSupplyRequestInfo>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <!--Optional:-->
            <siri:ConsumerRef>?</siri:ConsumerRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </DataSupplyRequestInfo>
         <Request>
            <!--Optional:-->
            <siri:NotificationRef>?</siri:NotificationRef>
            <!--Optional:-->
            <siri:AllData>false</siri:AllData>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:DataSupply>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="DataSupply"/></con:call></con:operation><con:operation isOneWay="false" action="DeleteSubscription" name="DeleteSubscription" bindingOperationName="DeleteSubscription" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:DeleteSubscription>
         <DeleteSubscriptionInfo>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </DeleteSubscriptionInfo>
         <Request>
            <!--Optional:-->
            <siri:SubscriberRef>?</siri:SubscriberRef>
            <!--You have a CHOICE of the next 2 items at this level-->
            <siri:All>?</siri:All>
            <!--1 or more repetitions:-->
            <siri:SubscriptionRef>?</siri:SubscriptionRef>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:DeleteSubscription>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="DeleteSubscription"/></con:call></con:operation><con:operation isOneWay="false" action="GetCapabilities" name="GetCapabilities" bindingOperationName="GetCapabilities" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetCapabilities>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
            <!--Optional:-->
            <siri:ProductionTimetableCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ProductionTimetableCapabilitiesRequest>
            <!--Optional:-->
            <siri:EstimatedTimetableCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:EstimatedTimetableCapabilitiesRequest>
            <!--Optional:-->
            <siri:StopTimetableCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopTimetableCapabilitiesRequest>
            <!--Optional:-->
            <siri:StopMonitoringCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopMonitoringCapabilitiesRequest>
            <!--Optional:-->
            <siri:VehicleMonitoringCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:VehicleMonitoringCapabilitiesRequest>
            <!--Optional:-->
            <siri:ConnectionTimetableCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ConnectionTimetableCapabilitiesRequest>
            <!--Optional:-->
            <siri:ConnectionMonitoringCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ConnectionMonitoringCapabilitiesRequest>
            <!--Optional:-->
            <siri:GeneralMessageCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:GeneralMessageCapabilitiesRequest>
            <!--Optional:-->
            <siri:FacilityMonitoringCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:FacilityMonitoringCapabilitiesRequest>
            <!--Optional:-->
            <siri:SituationExchangeCapabilitiesRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:SituationExchangeCapabilitiesRequest>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetCapabilities>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetCapabilities"/></con:call></con:operation><con:operation isOneWay="false" action="GetConnectionMonitoring" name="GetConnectionMonitoring" bindingOperationName="GetConnectionMonitoring" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetConnectionMonitoring>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:PreviewInterval>?</siri:PreviewInterval>
            <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
            <!--You have a CHOICE of the next 2 items at this level-->
            <siri:ConnectingTimeFilter>
               <siri:LineRef>?</siri:LineRef>
               <siri:DirectionRef>?</siri:DirectionRef>
               <!--Optional:-->
               <siri:EarliestArrivalTime>?</siri:EarliestArrivalTime>
               <!--Optional:-->
               <siri:LatestArrivalTime>?</siri:LatestArrivalTime>
            </siri:ConnectingTimeFilter>
            <!--1 or more repetitions:-->
            <siri:ConnectingJourneyFilter>
               <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
               <!--Optional:-->
               <siri:VisitNumber>?</siri:VisitNumber>
               <siri:TimetabledArrivalTime>?</siri:TimetabledArrivalTime>
            </siri:ConnectingJourneyFilter>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:IncludeTranslations>?</siri:IncludeTranslations>
            <!--Optional:-->
            <siri:ConnectionMonitoringDetailLevel>?</siri:ConnectionMonitoringDetailLevel>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetConnectionMonitoring>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetConnectionMonitoring"/></con:call></con:operation><con:operation isOneWay="false" action="GetConnectionTimetable" name="GetConnectionTimetable" bindingOperationName="GetConnectionTimetable" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetConnectionTimetable>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:ArrivalWindow>
               <siri:StartTime>?</siri:StartTime>
               <siri:EndTime>?</siri:EndTime>
            </siri:ArrivalWindow>
            <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:IncludeTranslations>?</siri:IncludeTranslations>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetConnectionTimetable>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetConnectionTimetable"/></con:call></con:operation><con:operation isOneWay="false" action="GetEstimatedTimetable" name="GetEstimatedTimetable" bindingOperationName="GetEstimatedTimetable" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetEstimatedTimetable>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:PreviewInterval>?</siri:PreviewInterval>
            <!--Optional:-->
            <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
            <!--Zero or more repetitions:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <!--Optional:-->
            <siri:Lines>
               <!--1 or more repetitions:-->
               <siri:LineDirection>
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
               </siri:LineDirection>
            </siri:Lines>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:IncludeTranslations>?</siri:IncludeTranslations>
            <!--Optional:-->
            <siri:EstimatedTimetableDetailLevel>?</siri:EstimatedTimetableDetailLevel>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetEstimatedTimetable>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetEstimatedTimetable"/></con:call></con:operation><con:operation isOneWay="false" action="GetFacilityMonitoring" name="GetFacilityMonitoring" bindingOperationName="GetFacilityMonitoring" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetFacilityMonitoring>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:PreviewInterval>?</siri:PreviewInterval>
            <!--Optional:-->
            <siri:StartTime>?</siri:StartTime>
            <!--Zero or more repetitions:-->
            <siri:FacilityRef>?</siri:FacilityRef>
            <!--Optional:-->
            <siri:FeatureRef>?</siri:FeatureRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:StopPointRef>?</siri:StopPointRef>
            <!--Optional:-->
            <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
            <!--You have a CHOICE of the next 2 items at this level-->
            <siri:FramedVehicleJourneyRef>
               <siri:DataFrameRef>?</siri:DataFrameRef>
               <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
            </siri:FramedVehicleJourneyRef>
            <siri:VehicleJourneyRef>?</siri:VehicleJourneyRef>
            <!--Optional:-->
            <siri:InterchangeRef>?</siri:InterchangeRef>
            <!--Optional:-->
            <siri:VehicleRef>?</siri:VehicleRef>
            <!--Optional:-->
            <siri:StopPlaceRef>?</siri:StopPlaceRef>
            <!--Optional:-->
            <siri:StopPlaceComponentRef>?</siri:StopPlaceComponentRef>
            <!--Zero or more repetitions:-->
            <siri:AccessibilityNeedsFilter>
               <!--1 or more repetitions:-->
               <siri:UserNeed>
                  <!--You have a CHOICE of the next 4 items at this level-->
                  <acsb:MobilityNeed>?</acsb:MobilityNeed>
                  <acsb:PsychosensoryNeed>?</acsb:PsychosensoryNeed>
                  <acsb:MedicalNeed>?</acsb:MedicalNeed>
                  <acsb:EncumbranceNeed>?</acsb:EncumbranceNeed>
                  <!--Optional:-->
                  <acsb:Excluded>?</acsb:Excluded>
                  <!--Optional:-->
                  <acsb:NeedRanking>?</acsb:NeedRanking>
                  <!--Optional:-->
                  <acsb:Extensions>?</acsb:Extensions>
               </siri:UserNeed>
            </siri:AccessibilityNeedsFilter>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:IncludeTranslations>?</siri:IncludeTranslations>
            <!--Optional:-->
            <siri:MaximumNumberOfFacilityConditions>?</siri:MaximumNumberOfFacilityConditions>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetFacilityMonitoring>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetFacilityMonitoring"/></con:call></con:operation><con:operation isOneWay="false" action="GetGeneralMessage" name="GetGeneralMessage" bindingOperationName="GetGeneralMessage" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request_TEST-172"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.37.16:9101/emission/SiriRelais/SiriProducerRpcPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.4]">
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>Perturbation</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
					<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request_TEST-173"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.37.16:9101/emission/SiriRelais/SiriProducerRpcPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.4]">
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request_TEST-179"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.37.16:9101/emission/SiriRelais/SiriProducerRpcPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.4]">
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request_TEST-175"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.37.16:9101/emission/SiriRelais/SiriProducerRpcPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.4]">
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request_TEST-176"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.37.16:9101/emission/SiriRelais/SiriProducerRpcPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.4]">
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request_TEST-177"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.37.16:9101/emission/SiriRelais/SiriProducerRpcPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.4]">
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request_TEST-178"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.37.16:9101/emission/SiriRelais/SiriProducerRpcPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.4]">
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>
]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation isOneWay="false" action="GetMultipleStopMonitoring" name="GetMultipleStopMonitoring" bindingOperationName="GetMultipleStopMonitoring" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetMultipleStopMonitoring>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--1 or more repetitions:-->
            <siri:StopMonitoringFIlter>
               <!--Optional:-->
               <siri:PreviewInterval>?</siri:PreviewInterval>
               <!--Optional:-->
               <siri:StartTime>?</siri:StartTime>
               <siri:MonitoringRef>?</siri:MonitoringRef>
               <!--Optional:-->
               <siri:OperatorRef>?</siri:OperatorRef>
               <!--Optional:-->
               <siri:LineRef>?</siri:LineRef>
               <!--Optional:-->
               <siri:DirectionRef>?</siri:DirectionRef>
               <!--Optional:-->
               <siri:DestinationRef>?</siri:DestinationRef>
               <!--Optional:-->
               <siri:StopVisitTypes>all</siri:StopVisitTypes>
               <!--Optional:-->
               <siri:Language>false</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:MaximumStopVisits>?</siri:MaximumStopVisits>
               <!--You have a CHOICE of the next 2 items at this level-->
               <!--Optional:-->
               <siri:MinimumStopVisitsPerLine>?</siri:MinimumStopVisitsPerLine>
               <!--Optional:-->
               <siri:MinimumStopVisitsPerLineVia>?</siri:MinimumStopVisitsPerLineVia>
               <!--Optional:-->
               <siri:MaximumTextLength>30</siri:MaximumTextLength>
               <!--Optional:-->
               <siri:StopMonitoringDetailLevel>normal</siri:StopMonitoringDetailLevel>
               <!--Optional:-->
               <siri:IncludeSituations>?</siri:IncludeSituations>
               <!--Optional:-->
               <siri:MaximumNumberOfCalls>
                  <!--Optional:-->
                  <siri:Previous>?</siri:Previous>
                  <!--Optional:-->
                  <siri:Onwards>?</siri:Onwards>
               </siri:MaximumNumberOfCalls>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopMonitoringFIlter>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetMultipleStopMonitoring>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetMultipleStopMonitoring"/></con:call></con:operation><con:operation isOneWay="false" action="GetProductionTimetable" name="GetProductionTimetable" bindingOperationName="GetProductionTimetable" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetProductionTimetable>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:ValidityPeriod>
               <siri:StartTime>?</siri:StartTime>
               <siri:EndTime>?</siri:EndTime>
            </siri:ValidityPeriod>
            <!--Optional:-->
            <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
            <!--Zero or more repetitions:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <!--Optional:-->
            <siri:Lines>
               <!--1 or more repetitions:-->
               <siri:LineDirection>
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
               </siri:LineDirection>
            </siri:Lines>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:IncludeTranslations>?</siri:IncludeTranslations>
            <!--Optional:-->
            <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetProductionTimetable>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetProductionTimetable"/></con:call></con:operation><con:operation isOneWay="false" action="GetSiriService" name="GetSiriService" bindingOperationName="GetSiriService" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetSiriService>
         <Request>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
            <!--You have a CHOICE of the next 11 items at this level-->
            <!--1 or more repetitions:-->
            <siri:ProductionTimetableRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ValidityPeriod>
                  <siri:StartTime>?</siri:StartTime>
                  <siri:EndTime>?</siri:EndTime>
               </siri:ValidityPeriod>
               <!--Optional:-->
               <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
               <!--Zero or more repetitions:-->
               <siri:OperatorRef>?</siri:OperatorRef>
               <!--Optional:-->
               <siri:Lines>
                  <!--1 or more repetitions:-->
                  <siri:LineDirection>
                     <siri:LineRef>?</siri:LineRef>
                     <!--Optional:-->
                     <siri:DirectionRef>?</siri:DirectionRef>
                  </siri:LineDirection>
               </siri:Lines>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ProductionTimetableRequest>
            <!--1 or more repetitions:-->
            <siri:EstimatedTimetableRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:PreviewInterval>?</siri:PreviewInterval>
               <!--Optional:-->
               <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
               <!--Zero or more repetitions:-->
               <siri:OperatorRef>?</siri:OperatorRef>
               <!--Optional:-->
               <siri:Lines>
                  <!--1 or more repetitions:-->
                  <siri:LineDirection>
                     <siri:LineRef>?</siri:LineRef>
                     <!--Optional:-->
                     <siri:DirectionRef>?</siri:DirectionRef>
                  </siri:LineDirection>
               </siri:Lines>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:EstimatedTimetableDetailLevel>?</siri:EstimatedTimetableDetailLevel>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:EstimatedTimetableRequest>
            <!--1 or more repetitions:-->
            <siri:StopTimetableRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:DepartureWindow>
                  <siri:StartTime>?</siri:StartTime>
                  <siri:EndTime>?</siri:EndTime>
               </siri:DepartureWindow>
               <siri:MonitoringRef>?</siri:MonitoringRef>
               <!--Optional:-->
               <siri:LineRef>?</siri:LineRef>
               <!--Optional:-->
               <siri:DirectionRef>?</siri:DirectionRef>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopTimetableRequest>
            <!--1 or more repetitions:-->
            <siri:StopMonitoringMultipleRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--1 or more repetitions:-->
               <siri:StopMonitoringFIlter>
                  <!--Optional:-->
                  <siri:PreviewInterval>?</siri:PreviewInterval>
                  <!--Optional:-->
                  <siri:StartTime>?</siri:StartTime>
                  <siri:MonitoringRef>?</siri:MonitoringRef>
                  <!--Optional:-->
                  <siri:OperatorRef>?</siri:OperatorRef>
                  <!--Optional:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:DestinationRef>?</siri:DestinationRef>
                  <!--Optional:-->
                  <siri:StopVisitTypes>all</siri:StopVisitTypes>
                  <!--Optional:-->
                  <siri:Language>false</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:MaximumStopVisits>?</siri:MaximumStopVisits>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <!--Optional:-->
                  <siri:MinimumStopVisitsPerLine>?</siri:MinimumStopVisitsPerLine>
                  <!--Optional:-->
                  <siri:MinimumStopVisitsPerLineVia>?</siri:MinimumStopVisitsPerLineVia>
                  <!--Optional:-->
                  <siri:MaximumTextLength>30</siri:MaximumTextLength>
                  <!--Optional:-->
                  <siri:StopMonitoringDetailLevel>normal</siri:StopMonitoringDetailLevel>
                  <!--Optional:-->
                  <siri:IncludeSituations>?</siri:IncludeSituations>
                  <!--Optional:-->
                  <siri:MaximumNumberOfCalls>
                     <!--Optional:-->
                     <siri:Previous>?</siri:Previous>
                     <!--Optional:-->
                     <siri:Onwards>?</siri:Onwards>
                  </siri:MaximumNumberOfCalls>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:StopMonitoringFIlter>
            </siri:StopMonitoringMultipleRequest>
            <!--1 or more repetitions:-->
            <siri:StopMonitoringRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:PreviewInterval>?</siri:PreviewInterval>
               <!--Optional:-->
               <siri:StartTime>?</siri:StartTime>
               <siri:MonitoringRef>?</siri:MonitoringRef>
               <!--Optional:-->
               <siri:OperatorRef>?</siri:OperatorRef>
               <!--Optional:-->
               <siri:LineRef>?</siri:LineRef>
               <!--Optional:-->
               <siri:DirectionRef>?</siri:DirectionRef>
               <!--Optional:-->
               <siri:DestinationRef>?</siri:DestinationRef>
               <!--Optional:-->
               <siri:StopVisitTypes>all</siri:StopVisitTypes>
               <!--Optional:-->
               <siri:Language>false</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:MaximumStopVisits>?</siri:MaximumStopVisits>
               <!--You have a CHOICE of the next 2 items at this level-->
               <!--Optional:-->
               <siri:MinimumStopVisitsPerLine>?</siri:MinimumStopVisitsPerLine>
               <!--Optional:-->
               <siri:MinimumStopVisitsPerLineVia>?</siri:MinimumStopVisitsPerLineVia>
               <!--Optional:-->
               <siri:MaximumTextLength>30</siri:MaximumTextLength>
               <!--Optional:-->
               <siri:StopMonitoringDetailLevel>normal</siri:StopMonitoringDetailLevel>
               <!--Optional:-->
               <siri:IncludeSituations>?</siri:IncludeSituations>
               <!--Optional:-->
               <siri:MaximumNumberOfCalls>
                  <!--Optional:-->
                  <siri:Previous>?</siri:Previous>
                  <!--Optional:-->
                  <siri:Onwards>?</siri:Onwards>
               </siri:MaximumNumberOfCalls>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopMonitoringRequest>
            <!--1 or more repetitions:-->
            <siri:VehicleMonitoringRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:VehicleMonitoringRef>?</siri:VehicleMonitoringRef>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:VehicleRef>?</siri:VehicleRef>
               <siri:LineRef>?</siri:LineRef>
               <!--Optional:-->
               <siri:DirectionRef>?</siri:DirectionRef>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:MaximumVehicles>?</siri:MaximumVehicles>
               <!--Optional:-->
               <siri:VehicleMonitoringDetailLevel>?</siri:VehicleMonitoringDetailLevel>
               <!--Optional:-->
               <siri:MaximumNumberOfCalls>
                  <!--Optional:-->
                  <siri:Previous>?</siri:Previous>
                  <!--Optional:-->
                  <siri:Onwards>?</siri:Onwards>
               </siri:MaximumNumberOfCalls>
               <!--Optional:-->
               <siri:IncludeSituations>?</siri:IncludeSituations>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:VehicleMonitoringRequest>
            <!--1 or more repetitions:-->
            <siri:ConnectionTimetableRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ArrivalWindow>
                  <siri:StartTime>?</siri:StartTime>
                  <siri:EndTime>?</siri:EndTime>
               </siri:ArrivalWindow>
               <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
               <!--Optional:-->
               <siri:LineRef>?</siri:LineRef>
               <!--Optional:-->
               <siri:DirectionRef>?</siri:DirectionRef>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ConnectionTimetableRequest>
            <!--1 or more repetitions:-->
            <siri:ConnectionMonitoringRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:PreviewInterval>?</siri:PreviewInterval>
               <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:ConnectingTimeFilter>
                  <siri:LineRef>?</siri:LineRef>
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:EarliestArrivalTime>?</siri:EarliestArrivalTime>
                  <!--Optional:-->
                  <siri:LatestArrivalTime>?</siri:LatestArrivalTime>
               </siri:ConnectingTimeFilter>
               <!--1 or more repetitions:-->
               <siri:ConnectingJourneyFilter>
                  <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
                  <!--Optional:-->
                  <siri:VisitNumber>?</siri:VisitNumber>
                  <siri:TimetabledArrivalTime>?</siri:TimetabledArrivalTime>
               </siri:ConnectingJourneyFilter>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:ConnectionMonitoringDetailLevel>?</siri:ConnectionMonitoringDetailLevel>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ConnectionMonitoringRequest>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Zero or more repetitions:-->
               <siri:InfoChannelRef>?</siri:InfoChannelRef>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:GeneralMessageRequest>
            <!--1 or more repetitions:-->
            <siri:FacilityMonitoringRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:PreviewInterval>?</siri:PreviewInterval>
               <!--Optional:-->
               <siri:StartTime>?</siri:StartTime>
               <!--Zero or more repetitions:-->
               <siri:FacilityRef>?</siri:FacilityRef>
               <!--Optional:-->
               <siri:FeatureRef>?</siri:FeatureRef>
               <!--Optional:-->
               <siri:LineRef>?</siri:LineRef>
               <!--Optional:-->
               <siri:StopPointRef>?</siri:StopPointRef>
               <!--Optional:-->
               <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:FramedVehicleJourneyRef>
                  <siri:DataFrameRef>?</siri:DataFrameRef>
                  <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
               </siri:FramedVehicleJourneyRef>
               <siri:VehicleJourneyRef>?</siri:VehicleJourneyRef>
               <!--Optional:-->
               <siri:InterchangeRef>?</siri:InterchangeRef>
               <!--Optional:-->
               <siri:VehicleRef>?</siri:VehicleRef>
               <!--Optional:-->
               <siri:StopPlaceRef>?</siri:StopPlaceRef>
               <!--Optional:-->
               <siri:StopPlaceComponentRef>?</siri:StopPlaceComponentRef>
               <!--Zero or more repetitions:-->
               <siri:AccessibilityNeedsFilter>
                  <!--1 or more repetitions:-->
                  <siri:UserNeed>
                     <!--You have a CHOICE of the next 4 items at this level-->
                     <acsb:MobilityNeed>?</acsb:MobilityNeed>
                     <acsb:PsychosensoryNeed>?</acsb:PsychosensoryNeed>
                     <acsb:MedicalNeed>?</acsb:MedicalNeed>
                     <acsb:EncumbranceNeed>?</acsb:EncumbranceNeed>
                     <!--Optional:-->
                     <acsb:Excluded>?</acsb:Excluded>
                     <!--Optional:-->
                     <acsb:NeedRanking>?</acsb:NeedRanking>
                     <!--Optional:-->
                     <acsb:Extensions>?</acsb:Extensions>
                  </siri:UserNeed>
               </siri:AccessibilityNeedsFilter>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:MaximumNumberOfFacilityConditions>?</siri:MaximumNumberOfFacilityConditions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:FacilityMonitoringRequest>
            <!--1 or more repetitions:-->
            <siri:SituationExchangeRequest version="2.0">
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:PreviewInterval>?</siri:PreviewInterval>
               <!--Optional:-->
               <siri:StartTime>?</siri:StartTime>
               <!--Optional:-->
               <siri:VehicleMode>unknown</siri:VehicleMode>
               <!--You have a CHOICE of the next 7 items at this level-->
               <siri:AirSubmode>unknown</siri:AirSubmode>
               <siri:BusSubmode>unknown</siri:BusSubmode>
               <siri:CoachSubmode>unknown</siri:CoachSubmode>
               <siri:MetroSubmode>unknown</siri:MetroSubmode>
               <siri:RailSubmode>unknown</siri:RailSubmode>
               <siri:TramSubmode>unknown</siri:TramSubmode>
               <siri:WaterSubmode>unknown</siri:WaterSubmode>
               <!--Optional:-->
               <siri:AccessMode>?</siri:AccessMode>
               <!--Optional:-->
               <siri:Severity>?</siri:Severity>
               <!--Zero or more repetitions:-->
               <siri:Scope>?</siri:Scope>
               <!--Optional:-->
               <siri:Predictability>?</siri:Predictability>
               <!--Optional:-->
               <siri:Keywords>?</siri:Keywords>
               <!--Optional:-->
               <siri:Verification>?</siri:Verification>
               <!--Zero or more repetitions:-->
               <siri:Progress>open</siri:Progress>
               <!--Optional:-->
               <siri:Reality>?</siri:Reality>
               <!--Optional:-->
               <siri:OperatorRef>?</siri:OperatorRef>
               <!--Zero or more repetitions:-->
               <siri:OperationalUnitRef>?</siri:OperationalUnitRef>
               <!--Optional:-->
               <siri:NetworkRef>?</siri:NetworkRef>
               <!--Zero or more repetitions:-->
               <siri:LineRef>?</siri:LineRef>
               <!--Optional:-->
               <siri:StopPointRef>?</siri:StopPointRef>
               <!--Zero or more repetitions:-->
               <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
               <!--Zero or more repetitions:-->
               <siri:FacilityRef>?</siri:FacilityRef>
               <!--Optional:-->
               <siri:StopPlaceRef>?</siri:StopPlaceRef>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:FramedVehicleJourneyRef>
                  <siri:DataFrameRef>?</siri:DataFrameRef>
                  <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
               </siri:FramedVehicleJourneyRef>
               <siri:VehicleJourneyRef>?</siri:VehicleJourneyRef>
               <!--Optional:-->
               <siri:InterchangeRef>?</siri:InterchangeRef>
               <!--Optional:-->
               <siri:VehicleRef>?</siri:VehicleRef>
               <!--Optional:-->
               <siri:CountryRef>?</siri:CountryRef>
               <!--Optional:-->
               <siri:PlaceRef>?</siri:PlaceRef>
               <!--0 to 2 repetitions:-->
               <siri:Location id="?" srsName="?">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:Longitude>?</siri:Longitude>
                  <siri:Latitude>?</siri:Latitude>
                  <siri:Coordinates>?</siri:Coordinates>
                  <!--Optional:-->
                  <siri:Precision>?</siri:Precision>
               </siri:Location>
               <!--Optional:-->
               <siri:SituationRoadFilter>
                  <!--1 or more repetitions:-->
                  <siri:RoadFilter>
                     <!--Optional:-->
                     <siri:roadNumber>?</siri:roadNumber>
                     <!--Optional:-->
                     <siri:directionBound>?</siri:directionBound>
                     <!--Optional:-->
                     <siri:referencePointIdentifier>?</siri:referencePointIdentifier>
                  </siri:RoadFilter>
               </siri:SituationRoadFilter>
               <!--Zero or more repetitions:-->
               <siri:AccessibilityNeedFilter>
                  <!--Zero or more repetitions:-->
                  <acsb:UserNeed>
                     <!--You have a CHOICE of the next 4 items at this level-->
                     <acsb:MobilityNeed>?</acsb:MobilityNeed>
                     <acsb:PsychosensoryNeed>?</acsb:PsychosensoryNeed>
                     <acsb:MedicalNeed>?</acsb:MedicalNeed>
                     <acsb:EncumbranceNeed>?</acsb:EncumbranceNeed>
                     <!--Optional:-->
                     <acsb:Excluded>?</acsb:Excluded>
                     <!--Optional:-->
                     <acsb:NeedRanking>?</acsb:NeedRanking>
                     <!--Optional:-->
                     <acsb:Extensions>?</acsb:Extensions>
                  </acsb:UserNeed>
                  <!--Optional:-->
                  <acsb:AccompaniedByCarer>?</acsb:AccompaniedByCarer>
               </siri:AccessibilityNeedFilter>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--Optional:-->
               <siri:IncludeTranslations>?</siri:IncludeTranslations>
               <!--Optional:-->
               <siri:MaximumNumberOfSituationElements>?</siri:MaximumNumberOfSituationElements>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:SituationExchangeRequest>
         </Request>
      </wsdl:GetSiriService>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetSiriService"/></con:call></con:operation><con:operation isOneWay="false" action="GetSituationExchange" name="GetSituationExchange" bindingOperationName="GetSituationExchange" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetSituationExchange>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:PreviewInterval>?</siri:PreviewInterval>
            <!--Optional:-->
            <siri:StartTime>?</siri:StartTime>
            <!--Optional:-->
            <siri:VehicleMode>unknown</siri:VehicleMode>
            <!--You have a CHOICE of the next 7 items at this level-->
            <siri:AirSubmode>unknown</siri:AirSubmode>
            <siri:BusSubmode>unknown</siri:BusSubmode>
            <siri:CoachSubmode>unknown</siri:CoachSubmode>
            <siri:MetroSubmode>unknown</siri:MetroSubmode>
            <siri:RailSubmode>unknown</siri:RailSubmode>
            <siri:TramSubmode>unknown</siri:TramSubmode>
            <siri:WaterSubmode>unknown</siri:WaterSubmode>
            <!--Optional:-->
            <siri:AccessMode>?</siri:AccessMode>
            <!--Optional:-->
            <siri:Severity>?</siri:Severity>
            <!--Zero or more repetitions:-->
            <siri:Scope>?</siri:Scope>
            <!--Optional:-->
            <siri:Predictability>?</siri:Predictability>
            <!--Optional:-->
            <siri:Keywords>?</siri:Keywords>
            <!--Optional:-->
            <siri:Verification>?</siri:Verification>
            <!--Zero or more repetitions:-->
            <siri:Progress>open</siri:Progress>
            <!--Optional:-->
            <siri:Reality>?</siri:Reality>
            <!--Optional:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <!--Zero or more repetitions:-->
            <siri:OperationalUnitRef>?</siri:OperationalUnitRef>
            <!--Optional:-->
            <siri:NetworkRef>?</siri:NetworkRef>
            <!--Zero or more repetitions:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:StopPointRef>?</siri:StopPointRef>
            <!--Zero or more repetitions:-->
            <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
            <!--Zero or more repetitions:-->
            <siri:FacilityRef>?</siri:FacilityRef>
            <!--Optional:-->
            <siri:StopPlaceRef>?</siri:StopPlaceRef>
            <!--You have a CHOICE of the next 2 items at this level-->
            <siri:FramedVehicleJourneyRef>
               <siri:DataFrameRef>?</siri:DataFrameRef>
               <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
            </siri:FramedVehicleJourneyRef>
            <siri:VehicleJourneyRef>?</siri:VehicleJourneyRef>
            <!--Optional:-->
            <siri:InterchangeRef>?</siri:InterchangeRef>
            <!--Optional:-->
            <siri:VehicleRef>?</siri:VehicleRef>
            <!--Optional:-->
            <siri:CountryRef>?</siri:CountryRef>
            <!--Optional:-->
            <siri:PlaceRef>?</siri:PlaceRef>
            <!--0 to 2 repetitions:-->
            <siri:Location id="?" srsName="?">
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:Longitude>?</siri:Longitude>
               <siri:Latitude>?</siri:Latitude>
               <siri:Coordinates>?</siri:Coordinates>
               <!--Optional:-->
               <siri:Precision>?</siri:Precision>
            </siri:Location>
            <!--Optional:-->
            <siri:SituationRoadFilter>
               <!--1 or more repetitions:-->
               <siri:RoadFilter>
                  <!--Optional:-->
                  <siri:roadNumber>?</siri:roadNumber>
                  <!--Optional:-->
                  <siri:directionBound>?</siri:directionBound>
                  <!--Optional:-->
                  <siri:referencePointIdentifier>?</siri:referencePointIdentifier>
               </siri:RoadFilter>
            </siri:SituationRoadFilter>
            <!--Zero or more repetitions:-->
            <siri:AccessibilityNeedFilter>
               <!--Zero or more repetitions:-->
               <acsb:UserNeed>
                  <!--You have a CHOICE of the next 4 items at this level-->
                  <acsb:MobilityNeed>?</acsb:MobilityNeed>
                  <acsb:PsychosensoryNeed>?</acsb:PsychosensoryNeed>
                  <acsb:MedicalNeed>?</acsb:MedicalNeed>
                  <acsb:EncumbranceNeed>?</acsb:EncumbranceNeed>
                  <!--Optional:-->
                  <acsb:Excluded>?</acsb:Excluded>
                  <!--Optional:-->
                  <acsb:NeedRanking>?</acsb:NeedRanking>
                  <!--Optional:-->
                  <acsb:Extensions>?</acsb:Extensions>
               </acsb:UserNeed>
               <!--Optional:-->
               <acsb:AccompaniedByCarer>?</acsb:AccompaniedByCarer>
            </siri:AccessibilityNeedFilter>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:IncludeTranslations>?</siri:IncludeTranslations>
            <!--Optional:-->
            <siri:MaximumNumberOfSituationElements>?</siri:MaximumNumberOfSituationElements>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetSituationExchange>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetSituationExchange"/></con:call></con:operation><con:operation isOneWay="false" action="GetStopMonitoring" name="GetStopMonitoring" bindingOperationName="GetStopMonitoring" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetStopMonitoring>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:PreviewInterval>?</siri:PreviewInterval>
            <!--Optional:-->
            <siri:StartTime>?</siri:StartTime>
            <siri:MonitoringRef>?</siri:MonitoringRef>
            <!--Optional:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:DestinationRef>?</siri:DestinationRef>
            <!--Optional:-->
            <siri:StopVisitTypes>all</siri:StopVisitTypes>
            <!--Optional:-->
            <siri:Language>false</siri:Language>
            <!--Optional:-->
            <siri:IncludeTranslations>?</siri:IncludeTranslations>
            <!--Optional:-->
            <siri:MaximumStopVisits>?</siri:MaximumStopVisits>
            <!--You have a CHOICE of the next 2 items at this level-->
            <!--Optional:-->
            <siri:MinimumStopVisitsPerLine>?</siri:MinimumStopVisitsPerLine>
            <!--Optional:-->
            <siri:MinimumStopVisitsPerLineVia>?</siri:MinimumStopVisitsPerLineVia>
            <!--Optional:-->
            <siri:MaximumTextLength>30</siri:MaximumTextLength>
            <!--Optional:-->
            <siri:StopMonitoringDetailLevel>normal</siri:StopMonitoringDetailLevel>
            <!--Optional:-->
            <siri:IncludeSituations>?</siri:IncludeSituations>
            <!--Optional:-->
            <siri:MaximumNumberOfCalls>
               <!--Optional:-->
               <siri:Previous>?</siri:Previous>
               <!--Optional:-->
               <siri:Onwards>?</siri:Onwards>
            </siri:MaximumNumberOfCalls>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetStopMonitoring>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation isOneWay="false" action="GetStopTimetable" name="GetStopTimetable" bindingOperationName="GetStopTimetable" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetStopTimetable>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DepartureWindow>
               <siri:StartTime>?</siri:StartTime>
               <siri:EndTime>?</siri:EndTime>
            </siri:DepartureWindow>
            <siri:MonitoringRef>?</siri:MonitoringRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:IncludeTranslations>?</siri:IncludeTranslations>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetStopTimetable>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopTimetable"/></con:call></con:operation><con:operation isOneWay="false" action="GetVehicleMonitoring" name="GetVehicleMonitoring" bindingOperationName="GetVehicleMonitoring" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetVehicleMonitoring>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DistanceUnits>?</siri:DistanceUnits>
               <!--Optional:-->
               <siri:VelocityUnits>?</siri:VelocityUnits>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
         </ServiceRequestInfo>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:VehicleMonitoringRef>?</siri:VehicleMonitoringRef>
            <!--You have a CHOICE of the next 2 items at this level-->
            <siri:VehicleRef>?</siri:VehicleRef>
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:IncludeTranslations>?</siri:IncludeTranslations>
            <!--Optional:-->
            <siri:MaximumVehicles>?</siri:MaximumVehicles>
            <!--Optional:-->
            <siri:VehicleMonitoringDetailLevel>?</siri:VehicleMonitoringDetailLevel>
            <!--Optional:-->
            <siri:MaximumNumberOfCalls>
               <!--Optional:-->
               <siri:Previous>?</siri:Previous>
               <!--Optional:-->
               <siri:Onwards>?</siri:Onwards>
            </siri:MaximumNumberOfCalls>
            <!--Optional:-->
            <siri:IncludeSituations>?</siri:IncludeSituations>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:GetVehicleMonitoring>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetVehicleMonitoring"/></con:call></con:operation><con:operation isOneWay="false" action="LinesDiscovery" name="LinesDiscovery" bindingOperationName="LinesDiscovery" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:LinesDiscovery>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--You have a CHOICE of the next 4 items at this level-->
            <siri:BoundingBox>
               <siri:UpperLeft id="?" srsName="?">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:Longitude>?</siri:Longitude>
                  <siri:Latitude>?</siri:Latitude>
                  <siri:Coordinates>?</siri:Coordinates>
                  <!--Optional:-->
                  <siri:Precision>?</siri:Precision>
               </siri:UpperLeft>
               <siri:LowerRight id="?" srsName="?">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:Longitude>?</siri:Longitude>
                  <siri:Latitude>?</siri:Latitude>
                  <siri:Coordinates>?</siri:Coordinates>
                  <!--Optional:-->
                  <siri:Precision>?</siri:Precision>
               </siri:LowerRight>
            </siri:BoundingBox>
            <siri:Circle id="?" srsName="?">
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:Longitude>?</siri:Longitude>
               <siri:Latitude>?</siri:Latitude>
               <siri:Coordinates>?</siri:Coordinates>
               <!--Optional:-->
               <siri:Precision>?</siri:Precision>
            </siri:Circle>
            <siri:PlaceRef>?</siri:PlaceRef>
            <siri:LineDirectionRef>
               <siri:LineRef>?</siri:LineRef>
               <!--Optional:-->
               <siri:DirectionRef>?</siri:DirectionRef>
            </siri:LineDirectionRef>
            <!--Optional:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:LinesDetailLevel>normal</siri:LinesDetailLevel>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:LinesDiscovery>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="LinesDiscovery"/></con:call></con:operation><con:operation isOneWay="false" action="StopPointsDiscovery" name="StopPointsDiscovery" bindingOperationName="StopPointsDiscovery" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:StopPointsDiscovery>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--You have a CHOICE of the next 3 items at this level-->
            <!--Optional:-->
            <siri:BoundingBox>
               <siri:UpperLeft id="?" srsName="?">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:Longitude>?</siri:Longitude>
                  <siri:Latitude>?</siri:Latitude>
                  <siri:Coordinates>?</siri:Coordinates>
                  <!--Optional:-->
                  <siri:Precision>?</siri:Precision>
               </siri:UpperLeft>
               <siri:LowerRight id="?" srsName="?">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:Longitude>?</siri:Longitude>
                  <siri:Latitude>?</siri:Latitude>
                  <siri:Coordinates>?</siri:Coordinates>
                  <!--Optional:-->
                  <siri:Precision>?</siri:Precision>
               </siri:LowerRight>
            </siri:BoundingBox>
            <!--Optional:-->
            <siri:Circle id="?" srsName="?">
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:Longitude>?</siri:Longitude>
               <siri:Latitude>?</siri:Latitude>
               <siri:Coordinates>?</siri:Coordinates>
               <!--Optional:-->
               <siri:Precision>?</siri:Precision>
            </siri:Circle>
            <!--Optional:-->
            <siri:PlaceRef>?</siri:PlaceRef>
            <!--Optional:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:StopPointsDetailLevel>normal</siri:StopPointsDetailLevel>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:StopPointsDiscovery>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="StopPointsDiscovery"/></con:call></con:operation><con:operation isOneWay="false" action="Subscribe" name="Subscribe" bindingOperationName="Subscribe" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:Subscribe>
         <SubscriptionRequestInfo>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DelegatorAddress>?</siri:DelegatorAddress>
            <!--Optional:-->
            <siri:DelegatorRef>?</siri:DelegatorRef>
            <!--Optional:-->
            <siri:ConsumerAddress>?</siri:ConsumerAddress>
            <!--Optional:-->
            <siri:SubscriptionFilterIdentifier>?</siri:SubscriptionFilterIdentifier>
            <!--Optional:-->
            <siri:SubscriptionContext>
               <!--Optional:-->
               <siri:HeartbeatInterval>?</siri:HeartbeatInterval>
            </siri:SubscriptionContext>
         </SubscriptionRequestInfo>
         <Request>
            <!--You have a CHOICE of the next 10 items at this level-->
            <!--1 or more repetitions:-->
            <siri:ProductionTimetableSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:ProductionTimetableRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:ValidityPeriod>
                     <siri:StartTime>?</siri:StartTime>
                     <siri:EndTime>?</siri:EndTime>
                  </siri:ValidityPeriod>
                  <!--Optional:-->
                  <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
                  <!--Zero or more repetitions:-->
                  <siri:OperatorRef>?</siri:OperatorRef>
                  <!--Optional:-->
                  <siri:Lines>
                     <!--1 or more repetitions:-->
                     <siri:LineDirection>
                        <siri:LineRef>?</siri:LineRef>
                        <!--Optional:-->
                        <siri:DirectionRef>?</siri:DirectionRef>
                     </siri:LineDirection>
                  </siri:Lines>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:ProductionTimetableRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ProductionTimetableSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:EstimatedTimetableSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:EstimatedTimetableRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:PreviewInterval>?</siri:PreviewInterval>
                  <!--Optional:-->
                  <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
                  <!--Zero or more repetitions:-->
                  <siri:OperatorRef>?</siri:OperatorRef>
                  <!--Optional:-->
                  <siri:Lines>
                     <!--1 or more repetitions:-->
                     <siri:LineDirection>
                        <siri:LineRef>?</siri:LineRef>
                        <!--Optional:-->
                        <siri:DirectionRef>?</siri:DirectionRef>
                     </siri:LineDirection>
                  </siri:Lines>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:EstimatedTimetableDetailLevel>?</siri:EstimatedTimetableDetailLevel>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:EstimatedTimetableRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>true</siri:IncrementalUpdates>
               <siri:ChangeBeforeUpdates>?</siri:ChangeBeforeUpdates>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:EstimatedTimetableSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:StopTimetableSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:StopTimetableRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:DepartureWindow>
                     <siri:StartTime>?</siri:StartTime>
                     <siri:EndTime>?</siri:EndTime>
                  </siri:DepartureWindow>
                  <siri:MonitoringRef>?</siri:MonitoringRef>
                  <!--Optional:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:StopTimetableRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
               <!--Optional:-->
               <siri:ChangeBeforeUpdates>?</siri:ChangeBeforeUpdates>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopTimetableSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:StopMonitoringSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:StopMonitoringRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:PreviewInterval>?</siri:PreviewInterval>
                  <!--Optional:-->
                  <siri:StartTime>?</siri:StartTime>
                  <siri:MonitoringRef>?</siri:MonitoringRef>
                  <!--Optional:-->
                  <siri:OperatorRef>?</siri:OperatorRef>
                  <!--Optional:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:DestinationRef>?</siri:DestinationRef>
                  <!--Optional:-->
                  <siri:StopVisitTypes>all</siri:StopVisitTypes>
                  <!--Optional:-->
                  <siri:Language>false</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:MaximumStopVisits>?</siri:MaximumStopVisits>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <!--Optional:-->
                  <siri:MinimumStopVisitsPerLine>?</siri:MinimumStopVisitsPerLine>
                  <!--Optional:-->
                  <siri:MinimumStopVisitsPerLineVia>?</siri:MinimumStopVisitsPerLineVia>
                  <!--Optional:-->
                  <siri:MaximumTextLength>30</siri:MaximumTextLength>
                  <!--Optional:-->
                  <siri:StopMonitoringDetailLevel>normal</siri:StopMonitoringDetailLevel>
                  <!--Optional:-->
                  <siri:IncludeSituations>?</siri:IncludeSituations>
                  <!--Optional:-->
                  <siri:MaximumNumberOfCalls>
                     <!--Optional:-->
                     <siri:Previous>?</siri:Previous>
                     <!--Optional:-->
                     <siri:Onwards>?</siri:Onwards>
                  </siri:MaximumNumberOfCalls>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:StopMonitoringRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
               <!--Optional:-->
               <siri:ChangeBeforeUpdates>?</siri:ChangeBeforeUpdates>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopMonitoringSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:VehicleMonitoringSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:VehicleMonitoringRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:VehicleMonitoringRef>?</siri:VehicleMonitoringRef>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:VehicleRef>?</siri:VehicleRef>
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:MaximumVehicles>?</siri:MaximumVehicles>
                  <!--Optional:-->
                  <siri:VehicleMonitoringDetailLevel>?</siri:VehicleMonitoringDetailLevel>
                  <!--Optional:-->
                  <siri:MaximumNumberOfCalls>
                     <!--Optional:-->
                     <siri:Previous>?</siri:Previous>
                     <!--Optional:-->
                     <siri:Onwards>?</siri:Onwards>
                  </siri:MaximumNumberOfCalls>
                  <!--Optional:-->
                  <siri:IncludeSituations>?</siri:IncludeSituations>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:VehicleMonitoringRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
               <!--You have a CHOICE of the next 2 items at this level-->
               <!--Optional:-->
               <siri:ChangeBeforeUpdates>?</siri:ChangeBeforeUpdates>
               <!--Optional:-->
               <siri:UpdateInterval>?</siri:UpdateInterval>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:VehicleMonitoringSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:ConnectionTimetableSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:ConnectionTimetableRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:ArrivalWindow>
                     <siri:StartTime>?</siri:StartTime>
                     <siri:EndTime>?</siri:EndTime>
                  </siri:ArrivalWindow>
                  <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
                  <!--Optional:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:ConnectionTimetableRequest>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ConnectionTimetableSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:ConnectionMonitoringSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:ConnectionMonitoringRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:PreviewInterval>?</siri:PreviewInterval>
                  <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:ConnectingTimeFilter>
                     <siri:LineRef>?</siri:LineRef>
                     <siri:DirectionRef>?</siri:DirectionRef>
                     <!--Optional:-->
                     <siri:EarliestArrivalTime>?</siri:EarliestArrivalTime>
                     <!--Optional:-->
                     <siri:LatestArrivalTime>?</siri:LatestArrivalTime>
                  </siri:ConnectingTimeFilter>
                  <!--1 or more repetitions:-->
                  <siri:ConnectingJourneyFilter>
                     <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
                     <!--Optional:-->
                     <siri:VisitNumber>?</siri:VisitNumber>
                     <siri:TimetabledArrivalTime>?</siri:TimetabledArrivalTime>
                  </siri:ConnectingJourneyFilter>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:ConnectionMonitoringDetailLevel>?</siri:ConnectionMonitoringDetailLevel>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:ConnectionMonitoringRequest>
               <!--Optional:-->
               <siri:ChangeBeforeUpdates>?</siri:ChangeBeforeUpdates>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ConnectionMonitoringSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:GeneralMessageRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Zero or more repetitions:-->
                  <siri:InfoChannelRef>?</siri:InfoChannelRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:GeneralMessageRequest>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:GeneralMessageSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:FacilityMonitoringSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:FacilityMonitoringRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:PreviewInterval>?</siri:PreviewInterval>
                  <!--Optional:-->
                  <siri:StartTime>?</siri:StartTime>
                  <!--Zero or more repetitions:-->
                  <siri:FacilityRef>?</siri:FacilityRef>
                  <!--Optional:-->
                  <siri:FeatureRef>?</siri:FeatureRef>
                  <!--Optional:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:StopPointRef>?</siri:StopPointRef>
                  <!--Optional:-->
                  <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:FramedVehicleJourneyRef>
                     <siri:DataFrameRef>?</siri:DataFrameRef>
                     <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
                  </siri:FramedVehicleJourneyRef>
                  <siri:VehicleJourneyRef>?</siri:VehicleJourneyRef>
                  <!--Optional:-->
                  <siri:InterchangeRef>?</siri:InterchangeRef>
                  <!--Optional:-->
                  <siri:VehicleRef>?</siri:VehicleRef>
                  <!--Optional:-->
                  <siri:StopPlaceRef>?</siri:StopPlaceRef>
                  <!--Optional:-->
                  <siri:StopPlaceComponentRef>?</siri:StopPlaceComponentRef>
                  <!--Zero or more repetitions:-->
                  <siri:AccessibilityNeedsFilter>
                     <!--1 or more repetitions:-->
                     <siri:UserNeed>
                        <!--You have a CHOICE of the next 4 items at this level-->
                        <acsb:MobilityNeed>?</acsb:MobilityNeed>
                        <acsb:PsychosensoryNeed>?</acsb:PsychosensoryNeed>
                        <acsb:MedicalNeed>?</acsb:MedicalNeed>
                        <acsb:EncumbranceNeed>?</acsb:EncumbranceNeed>
                        <!--Optional:-->
                        <acsb:Excluded>?</acsb:Excluded>
                        <!--Optional:-->
                        <acsb:NeedRanking>?</acsb:NeedRanking>
                        <!--Optional:-->
                        <acsb:Extensions>?</acsb:Extensions>
                     </siri:UserNeed>
                  </siri:AccessibilityNeedsFilter>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:MaximumNumberOfFacilityConditions>?</siri:MaximumNumberOfFacilityConditions>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:FacilityMonitoringRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:FacilityMonitoringSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:SituationExchangeSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:SituationExchangeRequest version="2.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:PreviewInterval>?</siri:PreviewInterval>
                  <!--Optional:-->
                  <siri:StartTime>?</siri:StartTime>
                  <!--Optional:-->
                  <siri:VehicleMode>unknown</siri:VehicleMode>
                  <!--You have a CHOICE of the next 7 items at this level-->
                  <siri:AirSubmode>unknown</siri:AirSubmode>
                  <siri:BusSubmode>unknown</siri:BusSubmode>
                  <siri:CoachSubmode>unknown</siri:CoachSubmode>
                  <siri:MetroSubmode>unknown</siri:MetroSubmode>
                  <siri:RailSubmode>unknown</siri:RailSubmode>
                  <siri:TramSubmode>unknown</siri:TramSubmode>
                  <siri:WaterSubmode>unknown</siri:WaterSubmode>
                  <!--Optional:-->
                  <siri:AccessMode>?</siri:AccessMode>
                  <!--Optional:-->
                  <siri:Severity>?</siri:Severity>
                  <!--Zero or more repetitions:-->
                  <siri:Scope>?</siri:Scope>
                  <!--Optional:-->
                  <siri:Predictability>?</siri:Predictability>
                  <!--Optional:-->
                  <siri:Keywords>?</siri:Keywords>
                  <!--Optional:-->
                  <siri:Verification>?</siri:Verification>
                  <!--Zero or more repetitions:-->
                  <siri:Progress>open</siri:Progress>
                  <!--Optional:-->
                  <siri:Reality>?</siri:Reality>
                  <!--Optional:-->
                  <siri:OperatorRef>?</siri:OperatorRef>
                  <!--Zero or more repetitions:-->
                  <siri:OperationalUnitRef>?</siri:OperationalUnitRef>
                  <!--Optional:-->
                  <siri:NetworkRef>?</siri:NetworkRef>
                  <!--Zero or more repetitions:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:StopPointRef>?</siri:StopPointRef>
                  <!--Zero or more repetitions:-->
                  <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
                  <!--Zero or more repetitions:-->
                  <siri:FacilityRef>?</siri:FacilityRef>
                  <!--Optional:-->
                  <siri:StopPlaceRef>?</siri:StopPlaceRef>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:FramedVehicleJourneyRef>
                     <siri:DataFrameRef>?</siri:DataFrameRef>
                     <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
                  </siri:FramedVehicleJourneyRef>
                  <siri:VehicleJourneyRef>?</siri:VehicleJourneyRef>
                  <!--Optional:-->
                  <siri:InterchangeRef>?</siri:InterchangeRef>
                  <!--Optional:-->
                  <siri:VehicleRef>?</siri:VehicleRef>
                  <!--Optional:-->
                  <siri:CountryRef>?</siri:CountryRef>
                  <!--Optional:-->
                  <siri:PlaceRef>?</siri:PlaceRef>
                  <!--0 to 2 repetitions:-->
                  <siri:Location id="?" srsName="?">
                     <!--You have a CHOICE of the next 2 items at this level-->
                     <siri:Longitude>?</siri:Longitude>
                     <siri:Latitude>?</siri:Latitude>
                     <siri:Coordinates>?</siri:Coordinates>
                     <!--Optional:-->
                     <siri:Precision>?</siri:Precision>
                  </siri:Location>
                  <!--Optional:-->
                  <siri:SituationRoadFilter>
                     <!--1 or more repetitions:-->
                     <siri:RoadFilter>
                        <!--Optional:-->
                        <siri:roadNumber>?</siri:roadNumber>
                        <!--Optional:-->
                        <siri:directionBound>?</siri:directionBound>
                        <!--Optional:-->
                        <siri:referencePointIdentifier>?</siri:referencePointIdentifier>
                     </siri:RoadFilter>
                  </siri:SituationRoadFilter>
                  <!--Zero or more repetitions:-->
                  <siri:AccessibilityNeedFilter>
                     <!--Zero or more repetitions:-->
                     <acsb:UserNeed>
                        <!--You have a CHOICE of the next 4 items at this level-->
                        <acsb:MobilityNeed>?</acsb:MobilityNeed>
                        <acsb:PsychosensoryNeed>?</acsb:PsychosensoryNeed>
                        <acsb:MedicalNeed>?</acsb:MedicalNeed>
                        <acsb:EncumbranceNeed>?</acsb:EncumbranceNeed>
                        <!--Optional:-->
                        <acsb:Excluded>?</acsb:Excluded>
                        <!--Optional:-->
                        <acsb:NeedRanking>?</acsb:NeedRanking>
                        <!--Optional:-->
                        <acsb:Extensions>?</acsb:Extensions>
                     </acsb:UserNeed>
                     <!--Optional:-->
                     <acsb:AccompaniedByCarer>?</acsb:AccompaniedByCarer>
                  </siri:AccessibilityNeedFilter>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:IncludeTranslations>?</siri:IncludeTranslations>
                  <!--Optional:-->
                  <siri:MaximumNumberOfSituationElements>?</siri:MaximumNumberOfSituationElements>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:SituationExchangeRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:SituationExchangeSubscriptionRequest>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:Subscribe>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="Subscribe"/></con:call></con:operation><con:operation isOneWay="false" action="ConnectionLinksDiscovery" name="ConnectionLinksDiscovery" bindingOperationName="ConnectionLinksDiscovery" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:ConnectionLinksDiscovery>
         <Request version="2.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:AccountId>?</siri:AccountId>
            <!--Optional:-->
            <siri:AccountKey>?</siri:AccountKey>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--You have a CHOICE of the next 3 items at this level-->
            <siri:BoundingBox>
               <siri:UpperLeft id="?" srsName="?">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:Longitude>?</siri:Longitude>
                  <siri:Latitude>?</siri:Latitude>
                  <siri:Coordinates>?</siri:Coordinates>
                  <!--Optional:-->
                  <siri:Precision>?</siri:Precision>
               </siri:UpperLeft>
               <siri:LowerRight id="?" srsName="?">
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:Longitude>?</siri:Longitude>
                  <siri:Latitude>?</siri:Latitude>
                  <siri:Coordinates>?</siri:Coordinates>
                  <!--Optional:-->
                  <siri:Precision>?</siri:Precision>
               </siri:LowerRight>
            </siri:BoundingBox>
            <siri:Circle id="?" srsName="?">
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:Longitude>?</siri:Longitude>
               <siri:Latitude>?</siri:Latitude>
               <siri:Coordinates>?</siri:Coordinates>
               <!--Optional:-->
               <siri:Precision>?</siri:Precision>
            </siri:Circle>
            <siri:PlaceRef>?</siri:PlaceRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:ConnectionLinksDetailLevel>normal</siri:ConnectionLinksDetailLevel>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </wsdl:ConnectionLinksDiscovery>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="ConnectionLinksDiscovery"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="SiriSOAPBinding" type="wsdl" bindingName="{http://new.webservice.namespace}SiriSOAPBinding" soapVersion="1_1" anonymous="optional" definition="/home/paul/Desktop/XSD SIRI/wsdl2-2/siri_wsProducer.wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://www.siri-service-location.com</con:endpoint></con:endpoints><con:operation isOneWay="false" action="CheckStatus" name="CheckStatus" bindingOperationName="CheckStatus" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:CheckStatus>
         <Request>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:CheckStatus>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="CheckStatus"/></con:call></con:operation><con:operation isOneWay="false" action="urn:#DataSupply" name="DataSupply" bindingOperationName="DataSupply" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:DataSupply>
         <DataSupplyRequestInfo>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <!--Optional:-->
            <siri:ConsumerRef>?</siri:ConsumerRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </DataSupplyRequestInfo>
         <Request>
            <!--Optional:-->
            <siri:NotificationRef>?</siri:NotificationRef>
            <!--Optional:-->
            <siri:AllData>false</siri:AllData>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:DataSupply>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:#DataSupply"/></con:call></con:operation><con:operation isOneWay="false" action="urn:#DeleteSubscription" name="DeleteSubscription" bindingOperationName="DeleteSubscription" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:DeleteSubscription>
         <DeleteSubscriptionInfo>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </DeleteSubscriptionInfo>
         <Request>
            <!--You have a CHOICE of the next 2 items at this level-->
            <siri:All>?</siri:All>
            <!--1 or more repetitions:-->
            <siri:SubscriptionRef>?</siri:SubscriptionRef>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:DeleteSubscription>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:#DeleteSubscription"/></con:call></con:operation><con:operation isOneWay="false" action="GetCapabilities" name="GetCapabilities" bindingOperationName="GetCapabilities" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetCapabilities>
         <Request version="1.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:ProductionTimetableCapabilitiesRequest>
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ProductionTimetableCapabilitiesRequest>
            <!--Optional:-->
            <siri:EstimatedTimetableCapabilitiesRequest>
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:EstimatedTimetableCapabilitiesRequest>
            <!--Optional:-->
            <siri:StopTimetableCapabilitiesRequest>
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopTimetableCapabilitiesRequest>
            <!--Optional:-->
            <siri:StopMonitoringCapabilitiesRequest>
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopMonitoringCapabilitiesRequest>
            <!--Optional:-->
            <siri:VehicleMonitoringCapabilitiesRequest>
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:VehicleMonitoringCapabilitiesRequest>
            <!--Optional:-->
            <siri:ConnectionTimetableCapabilitiesRequest>
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ConnectionTimetableCapabilitiesRequest>
            <!--Optional:-->
            <siri:ConnectionMonitoringCapabilitiesRequest>
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:ConnectionMonitoringCapabilitiesRequest>
            <!--Optional:-->
            <siri:GeneralMessageCapabilitiesRequest>
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:GeneralMessageCapabilitiesRequest>
            <!--Optional:-->
            <siri:FacilityMonitoringCapabilitiesRequest>
               <siri:RequestTimestamp>?</siri:RequestTimestamp>
               <!--Optional:-->
               <siri:MessageIdentifier>?</siri:MessageIdentifier>
               <!--Optional:-->
               <siri:ParticipantPermissions>false</siri:ParticipantPermissions>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:FacilityMonitoringCapabilitiesRequest>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetCapabilities>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetCapabilities"/></con:call></con:operation><con:operation isOneWay="false" action="GetConnectionMonitoring" name="GetConnectionMonitoring" bindingOperationName="GetConnectionMonitoring" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetConnectionMonitoring>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </ServiceRequestInfo>
         <Request version="1.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:PreviewInterval>?</siri:PreviewInterval>
            <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
            <!--You have a CHOICE of the next 2 items at this level-->
            <siri:ConnectingTimeFilter>
               <siri:LineRef>?</siri:LineRef>
               <siri:DirectionRef>?</siri:DirectionRef>
               <!--Optional:-->
               <siri:EarliestArrivalTime>?</siri:EarliestArrivalTime>
               <!--Optional:-->
               <siri:LatestArrivalTime>?</siri:LatestArrivalTime>
            </siri:ConnectingTimeFilter>
            <!--1 or more repetitions:-->
            <siri:ConnectingJourneyFilter>
               <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
               <!--Optional:-->
               <siri:VisitNumber>?</siri:VisitNumber>
               <siri:TimetabledArrivalTime>?</siri:TimetabledArrivalTime>
            </siri:ConnectingJourneyFilter>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetConnectionMonitoring>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetConnectionMonitoring"/></con:call></con:operation><con:operation isOneWay="false" action="GetConnectionTimetable" name="GetConnectionTimetable" bindingOperationName="GetConnectionTimetable" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetConnectionTimetable>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </ServiceRequestInfo>
         <Request version="1.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:ArrivalWindow>
               <siri:StartTime>?</siri:StartTime>
               <siri:EndTime>?</siri:EndTime>
            </siri:ArrivalWindow>
            <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetConnectionTimetable>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetConnectionTimetable"/></con:call></con:operation><con:operation isOneWay="false" action="GetEstimatedTimetable" name="GetEstimatedTimetable" bindingOperationName="GetEstimatedTimetable" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetEstimatedTimetable>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </ServiceRequestInfo>
         <Request version="1.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:PreviewInterval>?</siri:PreviewInterval>
            <!--Optional:-->
            <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
            <!--Zero or more repetitions:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetEstimatedTimetable>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetEstimatedTimetable"/></con:call></con:operation><con:operation isOneWay="false" action="GetFacilityMonitoring" name="GetFacilityMonitoring" bindingOperationName="GetFacilityMonitoring" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetFacilityMonitoring>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </ServiceRequestInfo>
         <Request version="1.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:StartTime>?</siri:StartTime>
            <!--Zero or more repetitions:-->
            <siri:FacilityRef>?</siri:FacilityRef>
            <!--Optional:-->
            <siri:StopPointRef>?</siri:StopPointRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
            <!--Optional:-->
            <siri:VehicleRef>?</siri:VehicleRef>
            <!--Zero or more repetitions:-->
            <siri:SpecificlNeedFilter>?</siri:SpecificlNeedFilter>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:MaximumNumberOfFacilityCondition>?</siri:MaximumNumberOfFacilityCondition>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetFacilityMonitoring>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetFacilityMonitoring"/></con:call></con:operation><con:operation isOneWay="false" action="GetGeneralMessage" name="GetGeneralMessage" bindingOperationName="GetGeneralMessage" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request_TEST-435"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.36.237:8080/emission/SiriRelais/SOAPPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.2]">
		  <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>Perturbation</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
			   <siri:LineRef>STIF:Line::004004009:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Ano 1137"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.37.16:9101/emission/SiriRelais/SOAPPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.2]">
		  <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
			   <siri:LineRef>STIF:Line::C00004:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request_TEST-440"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://10.222.37.16:9101/emission/SiriRelais/SOAPPort</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessage>
         <ServiceRequestInfo>
            <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <siri:RequestorRef>100WSIVSIRI</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
         </ServiceRequestInfo> 
         <Request version="2.0[FR-IDF-2.2]">
		  <siri:RequestTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>100WSIVSIRI:Message::1:LOC</siri:MessageIdentifier>
            <InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</InfoChannelRef>
            <siri:Language>fr</siri:Language>
            <siri:Extensions>
			   <siri:LineRef>STIF:Line::004004009:</siri:LineRef>
			</siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetGeneralMessage>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation isOneWay="false" action="GetProductionTimetable" name="GetProductionTimetable" bindingOperationName="GetProductionTimetable" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetProductionTimetable>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </ServiceRequestInfo>
         <Request version="1.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:ValidityPeriod>
               <siri:StartTime>?</siri:StartTime>
               <siri:EndTime>?</siri:EndTime>
            </siri:ValidityPeriod>
            <!--Optional:-->
            <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
            <!--Zero or more repetitions:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetProductionTimetable>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetProductionTimetable"/></con:call></con:operation><con:operation isOneWay="false" action="GetStopMonitoring" name="GetStopMonitoring" bindingOperationName="GetStopMonitoring" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetStopMonitoring>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </ServiceRequestInfo>
         <Request version="1.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:PreviewInterval>?</siri:PreviewInterval>
            <!--Optional:-->
            <siri:StartTime>?</siri:StartTime>
            <siri:MonitoringRef>?</siri:MonitoringRef>
            <!--Optional:-->
            <siri:OperatorRef>?</siri:OperatorRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:DestinationRef>?</siri:DestinationRef>
            <!--Optional:-->
            <siri:StopVisitTypes>all</siri:StopVisitTypes>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:MaximumStopVisits>?</siri:MaximumStopVisits>
            <!--Optional:-->
            <siri:MinimumStopVisitsPerLine>?</siri:MinimumStopVisitsPerLine>
            <!--Optional:-->
            <siri:MaximumTextLength>30</siri:MaximumTextLength>
            <!--Optional:-->
            <siri:StopMonitoringDetailLevel>normal</siri:StopMonitoringDetailLevel>
            <!--Optional:-->
            <siri:MaximumNumberOfCalls>
               <!--Optional:-->
               <siri:Previous>?</siri:Previous>
               <!--Optional:-->
               <siri:Onwards>?</siri:Onwards>
            </siri:MaximumNumberOfCalls>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetStopMonitoring>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:call></con:operation><con:operation isOneWay="false" action="" name="GetStopTimetable" bindingOperationName="GetStopTimetable" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetStopTimetable>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </ServiceRequestInfo>
         <Request version="1.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:DepartureWindow>
               <siri:StartTime>?</siri:StartTime>
               <siri:EndTime>?</siri:EndTime>
            </siri:DepartureWindow>
            <siri:MonitoringRef>?</siri:MonitoringRef>
            <!--Optional:-->
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetStopTimetable>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://new.webservice.namespace/SOAP-Port/GetStopTimetableRequest"/></con:call></con:operation><con:operation isOneWay="false" action="GetVehicleMonitoring" name="GetVehicleMonitoring" bindingOperationName="GetVehicleMonitoring" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetVehicleMonitoring>
         <ServiceRequestInfo>
            <!--Optional:-->
            <siri:ServiceRequestContext>
               <!--Optional:-->
               <siri:CheckStatusAddress>?</siri:CheckStatusAddress>
               <!--Optional:-->
               <siri:SubscribeAddress>?</siri:SubscribeAddress>
               <!--Optional:-->
               <siri:ManageSubscriptionAddress>?</siri:ManageSubscriptionAddress>
               <!--Optional:-->
               <siri:GetDataAddress>?</siri:GetDataAddress>
               <!--Optional:-->
               <siri:StatusResponseAddress>?</siri:StatusResponseAddress>
               <!--Optional:-->
               <siri:SubscriberAddress>?</siri:SubscriberAddress>
               <!--Optional:-->
               <siri:NotifyAddress>?</siri:NotifyAddress>
               <!--Optional:-->
               <siri:ConsumerAddress>?</siri:ConsumerAddress>
               <!--Optional:-->
               <siri:DataNameSpaces>
                  <!--Optional:-->
                  <siri:StopPointNameSpace>?</siri:StopPointNameSpace>
                  <!--Optional:-->
                  <siri:LineNameSpace>?</siri:LineNameSpace>
                  <!--Optional:-->
                  <siri:ProductCategoryNameSpace>?</siri:ProductCategoryNameSpace>
                  <!--Optional:-->
                  <siri:ServiceFeatureNameSpace>?</siri:ServiceFeatureNameSpace>
                  <!--Optional:-->
                  <siri:VehicleFeatureNameSpace>?</siri:VehicleFeatureNameSpace>
               </siri:DataNameSpaces>
               <!--Optional:-->
               <siri:Language>en</siri:Language>
               <!--You have a CHOICE of the next 2 items at this level-->
               <siri:WgsDecimalDegrees>?</siri:WgsDecimalDegrees>
               <siri:GmlCoordinateFormat>?</siri:GmlCoordinateFormat>
               <!--Optional:-->
               <siri:DataHorizon>?</siri:DataHorizon>
               <!--Optional:-->
               <siri:RequestTimeout>?</siri:RequestTimeout>
               <!--Optional:-->
               <siri:DeliveryMethod>direct</siri:DeliveryMethod>
               <!--Optional:-->
               <siri:MultipartDespatch>?</siri:MultipartDespatch>
               <!--Optional:-->
               <siri:ConfirmDelivery>false</siri:ConfirmDelivery>
               <!--Optional:-->
               <siri:MaximimumNumberOfSubscriptions>?</siri:MaximimumNumberOfSubscriptions>
               <!--Optional:-->
               <siri:AllowedPredictors>anyone</siri:AllowedPredictors>
               <!--Optional:-->
               <siri:PredictionFunction>?</siri:PredictionFunction>
            </siri:ServiceRequestContext>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
         </ServiceRequestInfo>
         <Request version="1.0">
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:VehicleMonitoringRef>?</siri:VehicleMonitoringRef>
            <!--You have a CHOICE of the next 2 items at this level-->
            <siri:VehicleRef>?</siri:VehicleRef>
            <siri:LineRef>?</siri:LineRef>
            <!--Optional:-->
            <siri:DirectionRef>?</siri:DirectionRef>
            <!--Optional:-->
            <siri:Language>en</siri:Language>
            <!--Optional:-->
            <siri:MaximumVehicles>?</siri:MaximumVehicles>
            <!--Optional:-->
            <siri:VehicleMonitoringDetailLevel>?</siri:VehicleMonitoringDetailLevel>
            <!--Optional:-->
            <siri:Extensions>
               <!--You may enter ANY elements at this point-->
            </siri:Extensions>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:GetVehicleMonitoring>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetVehicleMonitoring"/></con:call></con:operation><con:operation isOneWay="false" action="urn:#Subscribe" name="Subscribe" bindingOperationName="Subscribe" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://www.siri-service-location.com</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:Subscribe>
         <SubscriptionRequestInfo>
            <siri:RequestTimestamp>?</siri:RequestTimestamp>
            <!--Optional:-->
            <siri:Address>?</siri:Address>
            <siri:RequestorRef>?</siri:RequestorRef>
            <!--Optional:-->
            <siri:MessageIdentifier>?</siri:MessageIdentifier>
            <!--Optional:-->
            <siri:ConsumerAddress>?</siri:ConsumerAddress>
            <!--Optional:-->
            <siri:SubscriptionFilterIdentifier>?</siri:SubscriptionFilterIdentifier>
            <!--Optional:-->
            <siri:SubscriptionContext>
               <!--Optional:-->
               <siri:HeartbeatInterval>?</siri:HeartbeatInterval>
            </siri:SubscriptionContext>
         </SubscriptionRequestInfo>
         <Request>
            <!--You have a CHOICE of the next 9 items at this level-->
            <!--1 or more repetitions:-->
            <siri:ProductionTimetableSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:ProductionTimetableRequest version="1.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:ValidityPeriod>
                     <siri:StartTime>?</siri:StartTime>
                     <siri:EndTime>?</siri:EndTime>
                  </siri:ValidityPeriod>
                  <!--Optional:-->
                  <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
                  <!--Zero or more repetitions:-->
                  <siri:OperatorRef>?</siri:OperatorRef>
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:ProductionTimetableRequest>
            </siri:ProductionTimetableSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:EstimatedTimetableSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:EstimatedTimetableRequest version="1.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:PreviewInterval>?</siri:PreviewInterval>
                  <!--Optional:-->
                  <siri:TimetableVersionRef>?</siri:TimetableVersionRef>
                  <!--Zero or more repetitions:-->
                  <siri:OperatorRef>?</siri:OperatorRef>
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:EstimatedTimetableRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>true</siri:IncrementalUpdates>
               <siri:ChangeBeforeUpdates>?</siri:ChangeBeforeUpdates>
            </siri:EstimatedTimetableSubscriptionRequest>
            <siri:StopTimetableSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:StopTimetableRequest version="1.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:DepartureWindow>
                     <siri:StartTime>?</siri:StartTime>
                     <siri:EndTime>?</siri:EndTime>
                  </siri:DepartureWindow>
                  <siri:MonitoringRef>?</siri:MonitoringRef>
                  <!--Optional:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:StopTimetableRequest>
               <!--You may enter ANY elements at this point-->
            </siri:StopTimetableSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:StopMonitoringSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:StopMonitoringRequest version="1.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:PreviewInterval>?</siri:PreviewInterval>
                  <!--Optional:-->
                  <siri:StartTime>?</siri:StartTime>
                  <siri:MonitoringRef>?</siri:MonitoringRef>
                  <!--Optional:-->
                  <siri:OperatorRef>?</siri:OperatorRef>
                  <!--Optional:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:DestinationRef>?</siri:DestinationRef>
                  <!--Optional:-->
                  <siri:StopVisitTypes>all</siri:StopVisitTypes>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:MaximumStopVisits>?</siri:MaximumStopVisits>
                  <!--Optional:-->
                  <siri:MinimumStopVisitsPerLine>?</siri:MinimumStopVisitsPerLine>
                  <!--Optional:-->
                  <siri:MaximumTextLength>30</siri:MaximumTextLength>
                  <!--Optional:-->
                  <siri:StopMonitoringDetailLevel>normal</siri:StopMonitoringDetailLevel>
                  <!--Optional:-->
                  <siri:MaximumNumberOfCalls>
                     <!--Optional:-->
                     <siri:Previous>?</siri:Previous>
                     <!--Optional:-->
                     <siri:Onwards>?</siri:Onwards>
                  </siri:MaximumNumberOfCalls>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:StopMonitoringRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
               <!--Optional:-->
               <siri:ChangeBeforeUpdates>?</siri:ChangeBeforeUpdates>
               <!--Optional:-->
               <siri:Extensions>
                  <!--You may enter ANY elements at this point-->
               </siri:Extensions>
            </siri:StopMonitoringSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:VehicleMonitoringSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:VehicleMonitoringRequest version="1.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:VehicleMonitoringRef>?</siri:VehicleMonitoringRef>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:VehicleRef>?</siri:VehicleRef>
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:MaximumVehicles>?</siri:MaximumVehicles>
                  <!--Optional:-->
                  <siri:VehicleMonitoringDetailLevel>?</siri:VehicleMonitoringDetailLevel>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:VehicleMonitoringRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
               <!--You have a CHOICE of the next 2 items at this level-->
               <!--Optional:-->
               <siri:ChangeBeforeUpdates>?</siri:ChangeBeforeUpdates>
               <!--Optional:-->
               <siri:UpdateInterval>?</siri:UpdateInterval>
            </siri:VehicleMonitoringSubscriptionRequest>
            <siri:ConnectionTimetableSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:ConnectionTimetableRequest version="1.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:ArrivalWindow>
                     <siri:StartTime>?</siri:StartTime>
                     <siri:EndTime>?</siri:EndTime>
                  </siri:ArrivalWindow>
                  <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
                  <!--Optional:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:DirectionRef>?</siri:DirectionRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
               </siri:ConnectionTimetableRequest>
            </siri:ConnectionTimetableSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:ConnectionMonitoringSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:ConnectionMonitoringRequest version="1.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:PreviewInterval>?</siri:PreviewInterval>
                  <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
                  <!--You have a CHOICE of the next 2 items at this level-->
                  <siri:ConnectingTimeFilter>
                     <siri:LineRef>?</siri:LineRef>
                     <siri:DirectionRef>?</siri:DirectionRef>
                     <!--Optional:-->
                     <siri:EarliestArrivalTime>?</siri:EarliestArrivalTime>
                     <!--Optional:-->
                     <siri:LatestArrivalTime>?</siri:LatestArrivalTime>
                  </siri:ConnectingTimeFilter>
                  <!--1 or more repetitions:-->
                  <siri:ConnectingJourneyFilter>
                     <siri:DatedVehicleJourneyRef>?</siri:DatedVehicleJourneyRef>
                     <!--Optional:-->
                     <siri:VisitNumber>?</siri:VisitNumber>
                     <siri:TimetabledArrivalTime>?</siri:TimetabledArrivalTime>
                  </siri:ConnectingJourneyFilter>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:ConnectionMonitoringRequest>
               <!--Optional:-->
               <siri:ChangeBeforeUpdates>?</siri:ChangeBeforeUpdates>
            </siri:ConnectionMonitoringSubscriptionRequest>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:GeneralMessageRequest version="1.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Zero or more repetitions:-->
                  <siri:InfoChannelRef>?</siri:InfoChannelRef>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:GeneralMessageRequest>
            </siri:GeneralMessageSubscriptionRequest>
            <siri:FacilityMonitoringSubscriptionRequest>
               <!--Optional:-->
               <siri:SubscriberRef>?</siri:SubscriberRef>
               <siri:SubscriptionIdentifier>?</siri:SubscriptionIdentifier>
               <siri:InitialTerminationTime>?</siri:InitialTerminationTime>
               <siri:FacilityMonitoringRequest version="1.0">
                  <siri:RequestTimestamp>?</siri:RequestTimestamp>
                  <!--Optional:-->
                  <siri:MessageIdentifier>?</siri:MessageIdentifier>
                  <!--Optional:-->
                  <siri:StartTime>?</siri:StartTime>
                  <!--Zero or more repetitions:-->
                  <siri:FacilityRef>?</siri:FacilityRef>
                  <!--Optional:-->
                  <siri:StopPointRef>?</siri:StopPointRef>
                  <!--Optional:-->
                  <siri:LineRef>?</siri:LineRef>
                  <!--Optional:-->
                  <siri:ConnectionLinkRef>?</siri:ConnectionLinkRef>
                  <!--Optional:-->
                  <siri:VehicleRef>?</siri:VehicleRef>
                  <!--Zero or more repetitions:-->
                  <siri:SpecificlNeedFilter>?</siri:SpecificlNeedFilter>
                  <!--Optional:-->
                  <siri:Language>en</siri:Language>
                  <!--Optional:-->
                  <siri:MaximumNumberOfFacilityCondition>?</siri:MaximumNumberOfFacilityCondition>
                  <!--Optional:-->
                  <siri:Extensions>
                     <!--You may enter ANY elements at this point-->
                  </siri:Extensions>
               </siri:FacilityMonitoringRequest>
               <!--Optional:-->
               <siri:IncrementalUpdates>false</siri:IncrementalUpdates>
            </siri:FacilityMonitoringSubscriptionRequest>
         </Request>
         <RequestExtension>
            <!--You may enter ANY elements at this point-->
         </RequestExtension>
      </new:Subscribe>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:#Subscribe"/></con:call></con:operation></con:interface><con:mockService port="8080" path="/test172ProducerGM" host="stif-pc-dev-08" name="test172ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::172:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-05-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::150:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::14:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
						<RouteRef>STIF:Route::1:LOC</RouteRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<siri:DestinationRef>STIF:StopPoint:Q:108940:</siri:DestinationRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::4:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::4:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<siri:JourneyPatternRef>STIF:JourneyPattern::15:LOC</siri:JourneyPatternRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::4:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::4:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<GroupOfLinesRef>STIF:GroupOfLines::1:LOC</GroupOfLinesRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test173ProducerGM" host="stif-pc-dev-08" name="test173ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2015-05-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<!--Zero or more repetitions: -->
				<!--<siri:GeneralMessageCancellation>
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemRef>SNCF-ACCES:Message::3:LOC</siri:ItemRef>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
				</siri:GeneralMessageCancellation>-->
			</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test173ProducerGM2" host="stif-pc-dev-08" name="test173ProducerGM2" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-05-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic perturbé
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic perturbé sur une partie du réseau
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
	
				<!--Zero or more repetitions: -->
				<!--<siri:GeneralMessageCancellation>
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemRef>SNCF-ACCES:Message::3:LOC</siri:ItemRef>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
				</siri:GeneralMessageCancellation>-->
			</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test172ProducerSM" host="stif-pc-dev-08" name="test172ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriProducerRpcBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::C00040:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="N"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt etSTIF:Line::C00040  dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::C00040:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<!--
Cette réponse renvoie les 2 prochains passages de la ZDE STIF:StopPoint:Q:2
Passage 1 : heure courante + 1
Passage 2 : heure courante + 2
-->
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb" xmlns:ifop="http://www.ifopt.org.uk/ifopt">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
            	<siri:SubscriptionFilterRef>?</siri:SubscriptionFilterRef>
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>${journeyPatternName}</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>mission2</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
         </AnswerExtension>
      </wsdl:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test173ProducerSM" host="stif-pc-dev-08" name="test173ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriProducerRpcBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::C00040:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="N"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt etSTIF:Line::004004009  dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::C00040:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<!--
Cette réponse renvoie les 2 prochains passages de la ZDE STIF:StopPoint:Q:2
Passage 1 : heure courante + 1
Passage 2 : heure courante + 2
-->
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb" xmlns:ifop="http://www.ifopt.org.uk/ifopt">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
            	<siri:SubscriptionFilterRef>?</siri:SubscriptionFilterRef>
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>${journeyPatternName}</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>mission2</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
         </AnswerExtension>
      </wsdl:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test179ProducerGM" host="stif-pc-dev-08" name="test179ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-05-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Message::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Message::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Message::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test179ProducerGM2" host="stif-pc-dev-08" name="test179ProducerGM2" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-05-14T19:04:22.480+01:00</siri:ValidUntil>
				
				<!--Zero or more repetitions: -->
				<siri:GeneralMessageCancellation>
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemRef>SNCF-ACCES:Item::3:LOC</siri:ItemRef>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
				</siri:GeneralMessageCancellation>
			</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test179ProducerSM" host="stif-pc-dev-08" name="test179ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriProducerRpcBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::C00040:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="N"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt etSTIF:Line::004004009  dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::C00040:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<!--
Cette réponse renvoie les 2 prochains passages de la ZDE STIF:StopPoint:Q:2
Passage 1 : heure courante + 1
Passage 2 : heure courante + 2
-->
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb" xmlns:ifop="http://www.ifopt.org.uk/ifopt">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
            	<siri:SubscriptionFilterRef>?</siri:SubscriptionFilterRef>
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>${journeyPatternName}</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>mission2</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
         </AnswerExtension>
      </wsdl:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test175ProducerGM" host="stif-pc-dev-08" name="test175ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-05-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Message::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::15:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					
					<!-- Suppression du content-->
			</siri:GeneralMessage>
				
				
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Message::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::14:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Message::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<!--Zero or more repetitions: -->
				<siri:GeneralMessageCancellation>
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemRef>SNCF-ACCES:Message::3:LOC</siri:ItemRef>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
				</siri:GeneralMessageCancellation>
			</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test176ProducerGM" host="stif-pc-dev-08" name="test176ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-05-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Message::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::15:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					
					<!-- Mauvais canal indiqué-->
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturb:LOC</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Message::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::14:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Message::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test177ProducerGM" host="stif-pc-dev-08" name="test177ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-05-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::15:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				
				
				<!-- Mauvais FormatRef -->
				<siri:GeneralMessage formatRef="STIF-IDFFF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::14:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test178ProducerGM" host="stif-pc-dev-08" name="test178ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2012-05-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::15:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-10-22T15:05:00.000+02:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::14:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test178ProducerSM" host="stif-pc-dev-08" name="test178ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriProducerRpcBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::C00040:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="N"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt etSTIF:Line::004004009  dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::C00040:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<!--
Cette réponse renvoie les 2 prochains passages de la ZDE STIF:StopPoint:Q:2
Passage 1 : heure courante + 1
Passage 2 : heure courante + 2
-->
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb" xmlns:ifop="http://www.ifopt.org.uk/ifopt">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
            	<siri:SubscriptionFilterRef>?</siri:SubscriptionFilterRef>
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>${journeyPatternName}</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>mission2</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
         </AnswerExtension>
      </wsdl:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test435ProducerSM" host="stif-pc-dev-08" name="test435ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriSOAPBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::004004009:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="115"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::004004009:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test435ProducerGM" host="stif-pc-dev-08" name="test435ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriSOAPBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// get arguments
requestContext.idMessage = holder["//ns2:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siri.org.uk/ siri-IDF-Message.xsd ">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessageResponse>
         <ServiceDeliveryInfo>
	       	<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
			</siri:ResponseTimestamp>
			<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
			<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
			<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
		</ServiceDeliveryInfo>
         <Answer>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageDelivery version="2.0[FR-IDF-2.2]">
               <siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-12-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetGeneralMessageResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test177ProducerSM" host="stif-pc-dev-08" name="test177ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriProducerRpcBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::004004009:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="N"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt etSTIF:Line::004004009  dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::004004009:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<!--
Cette réponse renvoie les 2 prochains passages de la ZDE STIF:StopPoint:Q:2
Passage 1 : heure courante + 1
Passage 2 : heure courante + 2
-->
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb" xmlns:ifop="http://www.ifopt.org.uk/ifopt">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
            	<siri:SubscriptionFilterRef>?</siri:SubscriptionFilterRef>
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>${journeyPatternName}</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>mission2</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
         </AnswerExtension>
      </wsdl:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test176ProducerSM" host="stif-pc-dev-08" name="test176ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriProducerRpcBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::004004009:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="N"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt etSTIF:Line::004004009  dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::004004009:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<!--
Cette réponse renvoie les 2 prochains passages de la ZDE STIF:StopPoint:Q:2
Passage 1 : heure courante + 1
Passage 2 : heure courante + 2
-->
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk" xmlns:siri="http://www.siri.org.uk/siri" xmlns:acsb="http://www.ifopt.org.uk/acsb" xmlns:ifop="http://www.ifopt.org.uk/ifopt">
   <soapenv:Header/>
   <soapenv:Body>
      <wsdl:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
            	<siri:SubscriptionFilterRef>?</siri:SubscriptionFilterRef>
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>${journeyPatternName}</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:JourneyPatternName>mission2</siri:JourneyPatternName>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <siri:FirstOrLastJourney>unspecified</siri:FirstOrLastJourney>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <siri:TrainNumbers>
                        <siri:TrainNumberRef>5918</siri:TrainNumberRef>
                     </siri:TrainNumbers>
                     <!-- JourneyParts:-->
                     <siri:JourneyParts>
                        <siri:JourneyPartInfo>
                           <siri:JourneyPartRef>5409</siri:JourneyPartRef>
                           <siri:TrainNumberRef>5928:1</siri:TrainNumberRef>
                           <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                        </siri:JourneyPartInfo>
                     </siri:JourneyParts>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalProximityText>à l'approche</siri:ArrivalProximityText>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:ArrivalStopAssignment>
                           <siri:AimedQuayName>voie 2</siri:AimedQuayName>
                        </siri:ArrivalStopAssignment>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                        <siri:DistanceFromStop>2300</siri:DistanceFromStop>
                        <siri:NumberOfStopsAway>3</siri:NumberOfStopsAway>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
         </AnswerExtension>
      </wsdl:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test436ProducerSM" host="stif-pc-dev-08" name="test436ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriSOAPBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::004004009:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="115"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::004004009:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test436ProducerGM" host="stif-pc-dev-08" name="test436ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriSOAPBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// get arguments
requestContext.idMessage = holder["//ns2:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siri.org.uk/ siri-IDF-Message.xsd ">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessageResponse>
         <ServiceDeliveryInfo>
	       	<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
			</siri:ResponseTimestamp>
			<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
			<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
			<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
		</ServiceDeliveryInfo>
         <Answer>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageDelivery version="2.0[FR-IDF-2.2]">
               <siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-12-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>Perturbation</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetGeneralMessageResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test436ProducerGM2" host="stif-pc-dev-08" name="test436ProducerGM2" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriSOAPBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// get arguments
requestContext.idMessage = holder["//ns2:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siri.org.uk/ siri-IDF-Message.xsd ">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessageResponse>
         <ServiceDeliveryInfo>
	       	<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
			</siri:ResponseTimestamp>
			<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
			<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
			<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
		</ServiceDeliveryInfo>
         <Answer>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageDelivery version="2.0[FR-IDF-2.2]">
               <siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-12-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic perturbé sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est perturbé sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetGeneralMessageResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test437ProducerSM" host="stif-pc-dev-08" name="test437ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriSOAPBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::004004009:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="115"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::004004009:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test437ProducerGM" host="stif-pc-dev-08" name="test437ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriSOAPBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// get arguments
requestContext.idMessage = holder["//ns2:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siri.org.uk/ siri-IDF-Message.xsd ">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessageResponse>
         <ServiceDeliveryInfo>
	       	<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
			</siri:ResponseTimestamp>
			<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
			<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
			<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
		</ServiceDeliveryInfo>
         <Answer>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageDelivery version="2.0[FR-IDF-2.2]">
               <siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-12-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2013-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetGeneralMessageResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test438ProducerSM" host="stif-pc-dev-08" name="test438ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriSOAPBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::004004009:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="115"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::004004009:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test438ProducerGM" host="stif-pc-dev-08" name="test438ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriSOAPBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// get arguments
requestContext.idMessage = holder["//ns2:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siri.org.uk/ siri-IDF-Message.xsd ">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessageResponse>
         <ServiceDeliveryInfo>
	       	<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
			</siri:ResponseTimestamp>
			<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
			<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
			<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
		</ServiceDeliveryInfo>
         <Answer>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageDelivery version="2.0[FR-IDF-2.2]">
               <siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-12-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2015-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>


			</siri:GeneralMessageDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetGeneralMessageResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test438ProducerGM2" host="stif-pc-dev-08" name="test438ProducerGM2" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriSOAPBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// get arguments
requestContext.idMessage = holder["//ns2:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siri.org.uk/ siri-IDF-Message.xsd ">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessageResponse>
         <ServiceDeliveryInfo>
	       	<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
			</siri:ResponseTimestamp>
			<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
			<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
			<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
		</ServiceDeliveryInfo>
         <Answer>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageDelivery version="2.0[FR-IDF-2.2]">
               <siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-12-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::15:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2013-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

				<!--Zero or more repetitions: -->
				<siri:GeneralMessageCancellation>
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemRef>SNCF-ACCES:Message::3:LOC</siri:ItemRef>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
				</siri:GeneralMessageCancellation>

			</siri:GeneralMessageDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetGeneralMessageResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test439ProducerGM" host="stif-pc-dev-08" name="test439ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriSOAPBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// get arguments
requestContext.idMessage = holder["//ns2:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siri.org.uk/ siri-IDF-Message.xsd ">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessageResponse>
         <ServiceDeliveryInfo>
	       	<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
			</siri:ResponseTimestamp>
			<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
			<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
			<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
		</ServiceDeliveryInfo>
         <Answer>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageDelivery version="2.0[FR-IDF-2.2]">
               <siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-12-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2013-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					
					<!--Suppression du content:-->
					<!-- <siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content> -->
					
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>


			</siri:GeneralMessageDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetGeneralMessageResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test440ProducerGM" host="stif-pc-dev-08" name="test440ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriSOAPBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// get arguments
requestContext.idMessage = holder["//ns2:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siri.org.uk/ siri-IDF-Message.xsd ">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessageResponse>
         <ServiceDeliveryInfo>
	       	<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
			</siri:ResponseTimestamp>
			<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
			<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
			<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
		</ServiceDeliveryInfo>
         <Answer>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageDelivery version="2.0[FR-IDF-2.2]">
               <siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-12-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					
					<!--Canal erroné:-->
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Normal:LOC</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>SNCF-ACCES:InfoChannel::Perturbation:LOC</siri:InfoChannelRef>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetGeneralMessageResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test440ProducerSM" host="stif-pc-dev-08" name="test440ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriSOAPBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::004004009:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="115"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::004004009:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test441ProducerSM" host="stif-pc-dev-08" name="test441ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriSOAPBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::004004009:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="115"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::004004009:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>${= UUID.randomUUID().toString()}</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test441ProducerGM" host="stif-pc-dev-08" name="test441ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriSOAPBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// get arguments
requestContext.idMessage = holder["//ns2:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siri.org.uk/ siri-IDF-Message.xsd ">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetGeneralMessageResponse>
         <ServiceDeliveryInfo>
	       	<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
			</siri:ResponseTimestamp>
			<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
			<siri:ResponseMessageIdentifier>SNCF-ACCES:Message::1:LOC</siri:ResponseMessageIdentifier>
			<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
		</ServiceDeliveryInfo>
         <Answer>
            <!--1 or more repetitions:-->
            <siri:GeneralMessageDelivery version="2.0[FR-IDF-2.2]">
               <siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-12-14T19:04:22.480+01:00</siri:ValidUntil>
				
				<!--mauvais formatRef :-->
				<siri:GeneralMessage formatRef="STIF-IDFFF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::1:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::2:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::3:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="siri:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::004004009:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

			</siri:GeneralMessageDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetGeneralMessageResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test175_1ProducerGM" host="stif-pc-dev-08" name="test175_1ProducerGM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetGeneralMessage" interface="SiriProducerRpcBinding" operation="GetGeneralMessage"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )

// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/siri"

// get arguments
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wsdl="http://wsdl.siri.org.uk"
	xmlns:siri="http://www.siri.org.uk/siri">
	<soapenv:Header />
	<soapenv:Body>
		<wsdl:GetGeneralMessageResponse>
			<ServiceDeliveryInfo>
				<siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}
				</siri:ResponseTimestamp>
				<siri:ProducerRef>SNCF-ACCES</siri:ProducerRef>
				<siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::172:LOC</siri:ResponseMessageIdentifier>
				<siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
			</ServiceDeliveryInfo>
			<Answer>
			<siri:GeneralMessageDelivery version="2.0[FR-IDF-2.4]" xmlns:siri="http://www.siri.org.uk/siri" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	
				xsi:schemaLocation="http://www.siri.org.uk/siri siri.xsd http://wsdl.siri.org.uk/siri siri-FR-IDF-Extensions-2.4.xsd" xmlns:stif="http://wsdl.siri.org.uk/siri">
				<siri:ResponseTimestamp>2014-03-14T17:16:22.480+01:00</siri:ResponseTimestamp>
				<siri:RequestMessageRef>RELAIS:Message::3:LOC</siri:RequestMessageRef>
				<siri:Status>true</siri:Status>
				<siri:ValidUntil>2014-05-14T19:04:22.480+01:00</siri:ValidUntil>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::1:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::150:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
							<Message>
								<MessageType>longMessage</MessageType>
								<MessageText xml:lang="FR">
									Le trafic est normal sur l'ensemble du réseau de Bus.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::2:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::14:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:ValidUntilTime>2014-12-14T19:04:22.480+01:00</siri:ValidUntilTime>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure" >
						<siri:StopPointRef>STIF:StopPoint:Q:108940:</siri:StopPointRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>
				<siri:GeneralMessage formatRef="STIF-IDF">
					<siri:RecordedAtTime>2014-03-14T17:16:22.480+01:00</siri:RecordedAtTime>
					<siri:ItemIdentifier>SNCF-ACCES:Item::3:LOC</siri:ItemIdentifier>
					<siri:InfoMessageIdentifier>SNCF-ACCES:InfoMessage::16:LOC</siri:InfoMessageIdentifier>
					<siri:InfoMessageVersion>3</siri:InfoMessageVersion>
					<siri:InfoChannelRef>Perturbation</siri:InfoChannelRef>
					<siri:Content xsi:type="stif:IDFGeneralMessageStructure">
					<siri:LineRef>STIF:Line::C00040:</siri:LineRef>
							<Message>
								<MessageType>shortMessage</MessageType>
								<MessageText xml:lang="FR">
									Trafic normal sur l'ensemble du réseau.
								</MessageText>
							</Message>
					</siri:Content>
				</siri:GeneralMessage>

<!--				</siri:GeneralMessageDelivery>
			</Answer>
			<AnswerExtension>
			</AnswerExtension>
		</wsdl:GetGeneralMessageResponse>
	</soapenv:Body>
</soapenv:Envelope>
-->]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetGeneralMessage"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:mockService port="8080" path="/test439ProducerSM" host="stif-pc-dev-08" name="test439ProducerSM" bindToHostOnly="false" docroot=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.mock.WsdlMockService@require-soap-action">false</con:setting></con:settings><con:mockOperation name="GetStopMonitoring" interface="SiriSOAPBinding" operation="GetStopMonitoring"><con:settings/><con:dispatchStyle>SEQUENCE</con:dispatchStyle><con:defaultResponse>Response 1</con:defaultResponse><con:response name="Response 1" encoding="UTF-8"><con:settings/><con:script>// create XmlHolder for request content
def holder = new com.eviware.soapui.support.XmlHolder( mockRequest.requestContent )
def fournisseur = "SNCF-ACCES"
// define namespace
holder.namespaces["siri"] = "http://www.siri.org.uk/"
// récupération de l'id message de la request
requestContext.idMessage = holder["//siri:MessageIdentifier"][0]
requestContext.monitoringRef = holder["//siri:MonitoringRef"]
requestContext.version = holder["//Request/@version"].toString()

// identifiant utilisé (en coherence avec le dataset redis)
requestContext.producerRef="SNCF-ACCES"
requestContext.recordedAtTime = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())
// Passage 1 / course 1
requestContext.itemIdenfier=fournisseur+":Item::1:LOC"
requestContext.lineRef="STIF:Line::004004009:"
requestContext.dataFrameRef="any"
requestContext.datedVehicleJourneyRef=fournisseur+":VehicleJourney::1:LOC"
requestContext.journeyPatternRef=fournisseur+":JourneyPattern::1:LOC"
requestContext.journeyPatternName="mission1"
requestContext.publishedLineName="115"
requestContext.routeRef1=fournisseur+":Route::1:LOC"
requestContext.directionName="Rambouillet"
requestContext.operatorRef1=fournisseur+":Operator::SNCF:"
requestContext.originRef1="STIF:StopPoint:Q:108935:"
requestContext.originName1="Arrêt 1"
requestContext.placeRef1="STIF:StopPoint:Q:108943:"
requestContext.placeName1="Arrêt 5"
requestContext.destinationRef1="STIF:StopPoint:Q:108949:"
requestContext.destinationName1="Arrêt 10"
requestContext.vehicleJourneyName1="Course 1"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse = getHeureSuivante(1)
requestContext.originAimedDepartureTime1=heureDepartCourse.toXMLFormat();
requestContext.destinationAimedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,20,0)
//MonitoredCall
requestContext.stopPointRef1=requestContext.monitoringRef
requestContext.stopPointName1="Arrêt 2"
requestContext.aimedArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,0).toXMLFormat()
//requestContext.aimedArrivalTime1="2014-04-29T13:00:00.000Z"
requestContext.actualArrivalTime1= getAvecMinuteSeconde(heureDepartCourse,2,1).toXMLFormat()
//requestContext.actualArrivalTime1 = "2014-04-29T13:00:00.000+02:00"
requestContext.expectedArrivalTime1=getAvecMinuteSeconde(heureDepartCourse,2,2).toXMLFormat()

requestContext.aimedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,41).toXMLFormat()
requestContext.actualDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,42).toXMLFormat()
requestContext.expectedDepartureTime1=getAvecMinuteSeconde(heureDepartCourse,2,43).toXMLFormat()


// passage 2 / course 2
requestContext.monitoringRef2 = holder["//siri:MonitoringRef"]
requestContext.itemIdenfier2=fournisseur+":Item::2:LOC"
requestContext.lineRef2="STIF:Line::004004009:"
requestContext.dataFrameRef2="any"
requestContext.datedVehicleJourneyRef2=fournisseur+":VehicleJourney::2:LOC"
requestContext.journeyPatternRef2=fournisseur+":JourneyPattern::2:LOC"
requestContext.routeRef2=fournisseur+":Route::1:LOC"
requestContext.operatorRef2=fournisseur+":Operator::SNCF:"
requestContext.originRef2="STIF:StopPoint:Q:108935:"
requestContext.originName2="Arrêt 1"
requestContext.placeRef2="STIF:StopPoint:Q:108943:"
requestContext.placeName2="Arrêt 5"
requestContext.destinationRef2="STIF:StopPoint:Q:108949:"
requestContext.destinationName2="Arrêt 10"
requestContext.vehicleJourneyName2="Course 2"
// heure de départ au 1er arrêt et dernier arrêt de la course
def heureDepartCourse2 = getHeureSuivante(2)
requestContext.originAimedDepartureTime2=heureDepartCourse2.toXMLFormat();
requestContext.destinationAimedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,20,0)
//MonitoredCall
requestContext.stopPointRef2=requestContext.monitoringRef
requestContext.stopPointName2="Arrêt 2"
requestContext.aimedArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,0).toXMLFormat()
requestContext.actualArrivalTime2= getAvecMinuteSeconde(heureDepartCourse2,2,1).toXMLFormat()
requestContext.expectedArrivalTime2=getAvecMinuteSeconde(heureDepartCourse2,2,2).toXMLFormat()

requestContext.aimedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,41).toXMLFormat()
requestContext.actualDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,42).toXMLFormat()
requestContext.expectedDepartureTime2=getAvecMinuteSeconde(heureDepartCourse2,2,43).toXMLFormat()



// Methodes utilitaires DATE
// Methode Date permettant d'avoir l'heure courante + heure
def getHeureSuivante(int heure){
	def calendar = Calendar.getInstance();
	calendar.add(Calendar.HOUR,heure);
	calendar.set(Calendar.MINUTE, 0);
	calendar.set(Calendar.SECOND, 0);
	calendar.set(Calendar.MILLISECOND, 0);
	def heureSuivante = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return heureSuivante;
}

// Methode permettant de setter les minites et secondes sur l'heure passée
def getAvecMinuteSeconde(javax.xml.datatype.XMLGregorianCalendar xmlCalendar, int minute, int seconde){ 
	Calendar calendar = xmlCalendar.toGregorianCalendar();	
	calendar.set(Calendar.MINUTE, minute);
	calendar.set(Calendar.SECOND, seconde);
	def date = javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(calendar);
	return date;
      
}
</con:script><con:responseContent><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:new="http://new.webservice.namespace" xmlns:siri="http://www.siri.org.uk/">
   <soapenv:Header/>
   <soapenv:Body>
      <new:GetStopMonitoringResponse>
         <ServiceDeliveryInfo>
            <siri:ResponseTimestamp>${=javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(GregorianCalendar.getInstance())}</siri:ResponseTimestamp>
            <siri:ProducerRef>${producerRef}</siri:ProducerRef>
            <siri:ResponseMessageIdentifier>SNCF-ACCES:ResponseMessage::1:LOC</siri:ResponseMessageIdentifier>
		  <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
         </ServiceDeliveryInfo>
         <Answer>
            <siri:StopMonitoringDelivery version="${version}">
               <siri:ResponseTimestamp>${recordedAtTime}</siri:ResponseTimestamp>
               <siri:RequestMessageRef>${idMessage}</siri:RequestMessageRef>
               <siri:Status>true</siri:Status>
               <!-- 1 er passage-->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef1}</siri:RouteRef>
                     <siri:PublishedLineName>${publishedLineName}</siri:PublishedLineName>
                     <siri:DirectionName>${directionName}</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                     <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef1}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie1</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef1}</siri:OriginRef>
                     <siri:OriginName>${originName1}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef1}</siri:PlaceRef>
                        <siri:PlaceName>${placeName1}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef1}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName1}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName1}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime1}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime1}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!-- MonitoredCall 1er passage-->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef1}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName1}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName1}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime1}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime1}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime1}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime1}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime1}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime1}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
                <!-- 2ème passage -->
               <siri:MonitoredStopVisit>
                  <siri:RecordedAtTime>${recordedAtTime}</siri:RecordedAtTime>
                  <siri:ItemIdentifier>${itemIdenfier2}</siri:ItemIdentifier>
                  <siri:MonitoringRef>${monitoringRef2}</siri:MonitoringRef>
                  <siri:MonitoredVehicleJourney>
                     <siri:LineRef>${lineRef2}</siri:LineRef>
                      <!-- FramedVehicleJourneyRef -->
                     <siri:FramedVehicleJourneyRef>
                        <siri:DataFrameRef>${dataFrameRef2}</siri:DataFrameRef>
                        <siri:DatedVehicleJourneyRef>${datedVehicleJourneyRef2}</siri:DatedVehicleJourneyRef>
                     </siri:FramedVehicleJourneyRef>
                     <!-- JourneyPatternInfoGroup -->
                     <siri:JourneyPatternRef>${journeyPatternRef2}</siri:JourneyPatternRef>
                     <siri:VehicleMode>rail</siri:VehicleMode>
                     <siri:RouteRef>${routeRef2}</siri:RouteRef>
                     <siri:PublishedLineName>N</siri:PublishedLineName>
                     <siri:DirectionName>Rambouillet</siri:DirectionName>
                     <!-- VehicleJourneyInfo-->
                      <!-- ServiceInfo-->
                     <siri:OperatorRef>${operatorRef2}</siri:OperatorRef>
                     <siri:ProductCategoryRef>categorie2</siri:ProductCategoryRef>
                     <siri:ServiceFeatureRef>train voyageurs</siri:ServiceFeatureRef>
                     <siri:VehicleFeatureRef>longTrain</siri:VehicleFeatureRef>
                     <siri:OriginRef>${originRef2}</siri:OriginRef>
                     <siri:OriginName>${originName2}</siri:OriginName>
                     <siri:Via> 
                        <siri:PlaceRef>${placeRef2}</siri:PlaceRef>
                        <siri:PlaceName>${placeName2}</siri:PlaceName>
                     </siri:Via>
                     <siri:DestinationRef>${destinationRef2}</siri:DestinationRef>
                     <siri:DestinationName>${destinationName2}</siri:DestinationName>
                     <siri:VehicleJourneyName>${vehicleJourneyName2}</siri:VehicleJourneyName>
                     <siri:JourneyNote>ceci est une description de course 2</siri:JourneyNote>
                     <siri:HeadwayService>false</siri:HeadwayService>
                     <siri:OriginAimedDepartureTime>${originAimedDepartureTime2}</siri:OriginAimedDepartureTime>
                     <siri:DestinationAimedArrivalTime>${destinationAimedArrivalTime2}</siri:DestinationAimedArrivalTime>
                     <!--JourneyProgressInfo:-->
                     <siri:Monitored>true</siri:Monitored>
                     <!--<siri:MonitoringError></siri:MonitoringError>-->
                     <siri:InCongestion>false</siri:InCongestion>
                     <siri:InPanic>false</siri:InPanic>
                     <siri:VehicleLocation id="1" srsName="1">
                        <siri:Longitude>2.227435</siri:Longitude>
                        <siri:Latitude>48.785067</siri:Latitude>
                        <siri:Coordinates>N 48 47.107, E 2 13.662</siri:Coordinates>
                        <siri:Precision>1</siri:Precision>
                     </siri:VehicleLocation>
                     <siri:Bearing>1</siri:Bearing>
                     <siri:Occupancy>full</siri:Occupancy>
                     <siri:Delay>PT1M</siri:Delay>
                     <!--  MonitoredCall 2ème passage -->
                     <siri:MonitoredCall>
                        <siri:StopPointRef>${stopPointRef2}</siri:StopPointRef>
                        <siri:Order>1</siri:Order> 
                        <siri:StopPointName>${stopPointName2}</siri:StopPointName>
                        <siri:VehicleAtStop>false</siri:VehicleAtStop>
                        <siri:PlatformTraversal>false</siri:PlatformTraversal>
                        <siri:DestinationDisplay>${destinationName2}</siri:DestinationDisplay>
                        <siri:AimedArrivalTime>${aimedArrivalTime2}</siri:AimedArrivalTime>
                        <siri:ActualArrivalTime>${actualArrivalTime2}</siri:ActualArrivalTime>
                        <siri:ExpectedArrivalTime>${expectedArrivalTime2}</siri:ExpectedArrivalTime>
                        <siri:ArrivalStatus>onTime</siri:ArrivalStatus>
                        <siri:ArrivalPlatformName>quai 1</siri:ArrivalPlatformName>
                        <siri:AimedDepartureTime>${aimedDepartureTime2}</siri:AimedDepartureTime>
                        <siri:ActualDepartureTime>${actualDepartureTime2}</siri:ActualDepartureTime>
                        <siri:ExpectedDepartureTime>${expectedDepartureTime2}</siri:ExpectedDepartureTime>
                        <siri:DepartureStatus>onTime</siri:DepartureStatus>
                        <siri:DeparturePlatformName>quai 1</siri:DeparturePlatformName>
                        <siri:DepartureBoardingActivity>boarding</siri:DepartureBoardingActivity>
                        <siri:AimedHeadwayInterval>PT1M</siri:AimedHeadwayInterval>
                        <siri:ExpectedHeadwayInterval>PT1M</siri:ExpectedHeadwayInterval>
                     </siri:MonitoredCall>
                  </siri:MonitoredVehicleJourney>
               </siri:MonitoredStopVisit>
            </siri:StopMonitoringDelivery>
         </Answer>
         <AnswerExtension>
            <!--You may enter ANY elements at this point-->
         </AnswerExtension>
      </new:GetStopMonitoringResponse>
   </soapenv:Body>
</soapenv:Envelope>]]></con:responseContent><con:wsaConfig mustUnderstand="NONE" version="200508" action="GetStopMonitoring"/></con:response><con:dispatchConfig/></con:mockOperation><con:properties/></con:mockService><con:properties/><con:wssContainer/><con:sensitiveInformation/></con:soapui-project>